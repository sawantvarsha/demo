<div class="container-fluid contentdiv" *ngIf="!PrevQuoteShowOrderPopUp">
    <div [ngClass]="{'overlay ': this.viewOnly}">
        <div [ngClass]="{'view-pricer-popupmodal': this.viewOnly}">
            <div class="closeView" *ngIf="this.viewOnly">
                <!-- <div (click)="hideViewPopup()" class="modal-close" style=" pointer-events:all">
                </div> -->
                <app-svg-icons class="closebtn" [icon]="'close-icon'" [width]="'15'" [height]="'15'" (click)="hideViewPopup()">
                </app-svg-icons>
                <!-- icon changes done by Jyoti S || 31-Mar-2023 -->
            </div>
            <div [ngClass]="{'disablePointerEvents': this.viewOnly}">
            <div class="row pgHeaderTop"><!--Padding changed by Jyoti S || 13-Apr-2023 -->
                <div class="col-12 title-row">
                    <label class="pageHeader">Yield Enhancement</label>
                    <!-- <div style="position: absolute;right: 0;top: 0;margin-top: -3em;" *ngIf="this.viewOnly">
                        <div (click)="hideViewPopup()" class="modal-close" style=" pointer-events:all">
                        </div> 
                        <app-svg-icons class="closebtn" [icon]="'cancel-icon'" [width]="'15'" [height]="'15'" (click)="hideViewPopup()">
                        </app-svg-icons>
                    </div> --><!-- Commented by Jyoti S || 05-APr-2023  -->


                    <!--Added by Apurva C||19-Oct-->
                    <div class="product-tabs" *ngIf="!this.viewOnly">
                        <div></div>
                        <!-- <ul>
                            <li (click)="SelectedTab('Pricing')">
                                <a [ngClass]="(activeTab =='Pricing') ?  'active' : 'disabledtabs'">
                                    Pricing
                                </a>
                            </li>
                            <li (click)="SelectedTab('PQ')">
                                <a [ngClass]="(activeTab =='PQ') ?  'active' : 'disabledtabs'">
                                    Previous Quotes
                                </a>
                            </li>
                         
                        </ul>  -->
                        <div *ngIf="!this.viewOnly">
                            <div class="topGridRow">
                                <!--My Template-->
                                <div class="relPosition">
                                    <!-- <label class="labelNames">{{ "Load Template" | translate }}</label> --> <!-- Commented by Jyoti S || 19-Apr-2023 -->
                                    <label class="labelNames">{{ "Load Variants" | translate }}</label>
                                </div>
                                <div class="relPosition">
                                    <!-- <select [(ngModel)]="portfolio" tabindex="13"
                                        (change)="this.reset(); portfolioChange();">
                                        <option value=""></option>
                                        <option *ngFor="let arr of portfolioIdArr" value="{{arr.P_ID}}">{{arr.P_Name}}
                                        </option>

                                    </select> -->
                                    <app-custom-dropdown [data]="portfolioIdArr" [unicodeIcon]="false" [showIcon]="true" [textField]="'P_Name'" [valueField]="'P_ID'" [iconSrcField]="'imageIcon'" (selected)="changeDdl($event)" >
                                    </app-custom-dropdown>
                                </div>

                                <div class="relPosition">
                                   <!-- <label class="labelNames">{{ "New Template" | translate }}</label> --> <!-- Commented by Jyoti S || 19-Apr-2023 -->
                                   <label class="labelNames">{{ "New Variant" | translate }}</label>
                                </div>
                                <div class="relPosition">
                                    <input type="text" [(ngModel)]="portfolioName" class="ip-border txtalignLeft">
                                </div>
                                <div class="relPosition">
                                    <div class="btn-group btnSaveMargin" (clickOutside)="saveoptionflag = false">
                                        <button type="button" class="btn btn_Save" (click)="Save()" tabindex="48" *ngIf="!this.viewOnly" [disabled]="priceBtnActive === 'N'">
                                            <div class="price-with-loader">
                                                {{ "Save" | translate }}
                                                <div class="txtAlignCenter" *ngIf="variantFlag">
                                                    <div class="row priceall-loader loaderbox">
                                                        <div class="col-12">
                                                            <img src="{{asseturl}}Ajaxloader.gif" alt="" width="100px" class="loadergif">
                                                        </div>
                                                    </div>
                                                </div>
                                               </div>
                                            </button>
                                        <!-- (click)="Price()" -->
                                        <button type="button" (click)="saveOptions()" class="sidebutton btnSaveNShare" *ngIf="!this.viewOnly" [disabled]="(priceBtnActive === 'N')">
                                            <app-svg-icons [icon]="'arrow-drop-down'" [width]="'8'" [height]="'8'">
                                            </app-svg-icons>
                                        </button>
                                        <div class="ddl SaveNShare" *ngIf="(saveoptionflag) ">
                                            <div  class="flexDisplay">
                                            <div class="updateIcon" *ngIf="portfolio!=='' && accessRight !== 'VIEW'">
                                                <!-- <mat-icon *ngIf="portfolio!=='' && accessRight !== 'VIEW'" style="width:25px !important;height:25px !important;margin: 3px 5px 3px 10px;font-size: 24px!important; font-family: 'Material Icons' !important;">
                                                    save_alt</mat-icon> -->
                                                    <!-- Changed by Jyoti S || 19-Apr-2023 -->
                                                    <app-svg-icons [icon]="'update-icon'" [width]="'15'" [height]="'15'">
                                                    </app-svg-icons>
                                            </div>
                                            <div class="ddlitem" role="menuitem" (click)="updateVariant();saveoptionflag=false" *ngIf="portfolio!=='' && accessRight !== 'VIEW'">Update Variant
                                            </div>
                                        </div>
                                        <div class="flexDisplay">

                                            <div class="SaveNShareIcon">
                                                <!-- <mat-icon style="width:25px !important;height:25px !important;margin: 3px 5px 3px 10px;font-size: 24px!important; font-family: 'Material Icons' !important;">
                                                    share</mat-icon> -->
                                                    <app-svg-icons [icon]="'share-icon'" [width]="'15'" [height]="'15'">
                                                    </app-svg-icons>
                                            </div>
                                            <div class="ddlitem" role="menuitem" (click)="showsaveSharePopup()">Save and Share
                                            </div>
                                        </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="relPosition">
                                    <button class="button DeleteIcon" (click)="DeleteTemplate();" [disabled]="(portfolio==='')">
                                        <!-- <img src="{{asseturl}}delete.png" alt=""
                                            style="filter: invert(100%);width: 21px;"> -->
                                        <app-svg-icons *ngIf="(portfolio==='')" [icon]="'delete'" [width]="'13'" [height]="'13'">
                                        </app-svg-icons>
                                        <app-svg-icons *ngIf="(portfolio !=='')" [icon]="'deleteEnabled'" [width]="'13'" [height]="'13'">
                                        </app-svg-icons>
                                        {{ "Delete" | translate }}
                                    </button>
                                </div>
                            </div>


                        </div>
                    </div>
                    <!-- Added top on 09 Jan 2023 by Ashwini H -->
                    <div class="portfolioMsg" *ngIf="successMsg !== '' && saveFlag">
                        <span class="successMsg" *ngIf="successMsg !== '' && saveFlag">{{successMsg}} </span>
                    </div>
                    <div class="portfolioMsg" *ngIf="errorTemplateMessage !== ''">
                        <span class="errorMsg" *ngIf="errorTemplateMessage !== ''">{{errorTemplateMessage}} </span>
                    </div>
                </div>
            </div>
            <!--Added by Apurva C||19-Oct-->
            <div *ngIf="activeTab==='Pricing'">
                <div class="row">
                    <div class="relPosition">
                        <div class="row divRfqId">
                            <div class="col-12 dvRfqPadding">
                                <h5 *ngIf="rfqID && !sendtocptyflag" class="hdrRfqId">
                                    <!-- RFQ : &nbsp; {{rfqID}} -->
                                    RFQ ID : &nbsp; {{noteMasterID}}
                                    <!-- <span *ngIf="sendtocptyflag" style="font-size: 22px !important;"> / {{selectedToken['Ref_x0020_No']}}</span> -->
                                </h5>
                                <h5 *ngIf="selectedToken && selectedToken['Ref_x0020_No'] && sendtocptyflag" class="hdrRfqId">

                                    Product ID : &nbsp; {{selectedToken['Ref_x0020_No']}}

                                </h5>
                                <h5 *ngIf="portfolioId && portfolioId!=='' && this.viewOnly" class="hdrRfqId">
                                    Saved Request ID : &nbsp; {{portfolioId}}
                                </h5>
                                <div *ngIf="ErrorMsgTop !== '' ">
                                    <span class="errMsgTop">{{ErrorMsgTop}}</span>
                                </div>


                            </div>
                        </div>
                    </div>
                    <div>
                        <!-- not required for Euro connect || PriyaL || 25Apr2022 || Assigned by PranavD -->
                        <!-- <div class="row-grid-inner" *ngIf="allBooksData.length>1">
                                <div style="position:relative;">
                                    <label>On behalf of</label>
                                </div>
                                <div style="position:relative;">
                                    <select [(ngModel)]="onBehalfOf" tabindex="1"
                                        (change)="this.reset();onBehalfOfChange();">

                                        <option *ngFor="let bookData of allBooksData;let i = index"
                                            [value]="bookData.BookCode">
                                            {{bookData.BookName }}</option>

                                    </select>
                                </div>
                            </div> -->
                    </div>

                </div>
                <div class="row-grid rwGridPadding">
                    <div class="row-grid-inner">
                    </div>
                    <div class="row-grid-inner">


                    </div>
                    <!--Left Column-->
                    <div class="relPosition">

                        <!-- Column 1 & 2 -->
                        <div class="row-grid-inner">
                            <!-- Column 1 -->
                            <div class="flex-column">
                                <div class="label-row">
                                    <!-- Changed by Pranav D 26-Oct-2021 Removed hidescreen class from below label and added General Terms -->
                                    <label class="box-header">{{ "General Terms" | translate }}</label>
                                </div>
                                <div class="row-grid-2">
                                    <!--Underlying-->
                                    <div class="relPosition">
                                        <label>{{ "Underlying" | translate }} </label>
                                    </div>
                                    <div class="relPosition">
                                           <!-- Changes done by Apurva K for disabling the field after 4 underlyings are reached|| 25-Apr-2023 -->
                                        <input type="text" placeholder="Enter underlying" value="{{ShareName}}" class="txtalignLeft" [(ngModel)]="ShareName" maxlength="10" (keypress)="ChangeIndex($event); showSuggestions = true" (keydown.enter)="selectShare($event); flag=false;" (keydown.backspace)="backKeyPress($event)"
                                            (keydown.delete)="backKeyPress($event)" (keydown.tab)="flag=true;" (keydown.ArrowUp)="selectedBIndex = commonfunctions.moveUpSelection1($event, selectedBIndex)" (keydown.ArrowDown)="selectedBIndex = commonfunctions.moveDownSelection1($event, selectedBIndex)"
                                            tabindex="1" Id="txtShare" [disabled]="enabledisablefields('Underlyings') || ShareBasket.length >= 4" />
                                        <!-- <div class="error-input"></div> -->
                                        <div class="SelectorBox" *ngIf="flag && showSuggestions" (clickOutside)="flag=false;">
                                            <a *ngFor="let share of (shares | searchunderlying: ShareName); let i = index" (keypress)="ChangeIndex($event)" (keydown.enter)="selectShare($event)">
                                                <div *ngIf="share" [attr.data-share]="share.Code" (click)="showUnderlying($event,share)" [ngClass]="{HoverSuggestion: i === selectedBIndex}">
                                                    <span>{{ share.LongName }}</span>
                                                </div>
                                            </a>
                                        </div>
                                        <!-- <div class="validate-popup active"><div class="exclaim-icon"></div><span>Please Enter Underlying.</span></div> -->
                                    </div>
                                </div>
                                <div class="row-grid-1" *ngIf="ShareBasket && ShareBasket.length > 0">
                                    <!--Shares List-->
                                    <div class="sharebasket flexDisplay" *ngFor="let Selectedshare of ShareBasket; let rowIndex = index;">
                                        <button class="shareName btnShareName" (click)="onclickShareBasket(Selectedshare)">
                                                {{Selectedshare.Code}} &nbsp;
                                            </button>
                                        <input [(ngModel)]="Selectedshare.Weight" value="{{ShareBasket.Weight}}" type="text" class="ipShare" *ngIf="upsideType === 'Call Custom Basket'" (blur)="shareweightcalc()">
                                        <!-- <img src="{{asseturl}}clear.png" width="20px" style="float: right;" (click)="removeShare(rowIndex);"> -->
                                        <app-svg-icons (click)="removeShare(rowIndex);" class="cancel-icon" [icon]="'close-icon'" [width]="'12'" [height]="'12'">
                                        </app-svg-icons>
                                    </div>
                                </div>
                                <div class="row-grid-2">
                                    <!--Currency-->
                                    <div class="relPosition">
                                        <label>{{ "Currency" | translate }}</label>
                                    </div>
                                    <div class="relPosition">
                                        <!-- [disabled]="format === 'BonoJ' || format === 'Warrant'" -->
                                        <select [(ngModel)]="ddlNoteCcy" tabindex="2" (change)="currencyChange();" 
                                        [disabled]="enabledisablefields('Currency')" class="ip-border ScrollCss"
                                        *ngIf="defaultvaluesArr?.length < 1 || CurrDropdown[0]==''">
                                                <option *ngFor="let c of CCY" (selected)="c === UnderlyingCurrency"
                                                    [value]="c">
                                                    {{ c }}</option>
                                        </select>

                                        <select id="new" [(ngModel)]="ddlNoteCcy"
                                        *ngIf="defaultvaluesArr?.length > 0 && CurrDropdown[0]!=''" [disabled]="CurrencyYN == 'N' ">
                                            <option *ngFor="let c of CurrDropdown" [value]="c">
                                                {{c}}
                                            </option>
                                        </select>

                                    </div>
                                </div>
                                <div class="row-grid-2">
                                    <!--Format-->
                                    <div class="relPosition">
                                        <label>{{ "Format" | translate }}</label>
                                    </div>
                                    <div class="relPosition">
                                        <select [(ngModel)]="format" (change)="formatChange()" tabindex="3" [disabled]="enabledisablefields('Format')" 
                                        *ngIf="FormatDropdown?.length <= 0 || FormatDropdown[0]==''" class="ip-border">
                                                <!-- Bind common data to format instead of client book mapping formats || Added by PriyaL || 22Apr2022 -->
                                                <ng-container *ngFor="let f of Format">
                                                    <option *ngIf="f !== 'BonoJ' && f !== 'Warrant' && f !== 'Note'"
                                                        value="{{f.Value}}">{{f.Key}}</option>
                                                    <!-- <option *ngIf="f === 'Note'" value="{{f}}">Security</option> -->
                                                    <option *ngIf="f === 'Note'" value="{{f.Value}}">{{f.Key}}</option>
                                                </ng-container>
                                        </select>
                                        <select *ngIf="FormatDropdown?.length > 0 && FormatDropdown[0]!=''" [(ngModel)]="format" tabindex="3" [disabled]="FormatYN == 'N'">
                                            <option *ngFor="let f of FormatDropdown" value="{{f}}">
                                                {{f}}
                                            </option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row-grid-2">
                                    <!--Solve For-->
                                    <div class="relPosition">
                                        <label>{{ "Solve for" | translate }} </label>
                                    </div>
                                    <div class="relPosition">
                                        <select *ngIf="SolveForDropdown?.length <= 0 || SolveForDropdown[0]==''"
                                        [(ngModel)]="SolveForvalue" (change)="setSolveFor($event)" tabindex="4" [disabled]="enabledisablefields('SolveFor')" class="ip-border">
                                                <option value="CallGearing"
                                                    *ngIf="upsideType === 'Call' || upsideType === 'Twin Win' || upsideType === 'Call Equally Weighted'
                                      || upsideType === 'Call Worst of' || upsideType === 'Call Best of' || upsideType === 'Call Custom Basket'">
                                                    Call Gearing (%)</option>
                                                <option value="LowerCallGearing"
                                                    *ngIf="upsideType === 'Call Spread' || upsideType === 'Capped Twin Win'">
                                                    Call Spread Gearing (%)</option>
                                                <option value="CallStrike"
                                                    *ngIf="upsideType === 'Call' || upsideType === 'Twin Win' || upsideType === 'Call Equally Weighted' 
                                     || upsideType === 'Call Worst of' || upsideType === 'Call Best of' || upsideType === 'Call Custom Basket'">
                                                    Call Strike (%)</option>
                                                <option value="Coupon"
                                                    *ngIf="cpnType !== 'None' && cpnType !== 'Floating Unconditional' && cpnType !== 'Floating without Memory' && periodicCouponFlag === 'Yes'">
                                                    Coupon (%)</option>
                                                <option value="CouponBarrier"
                                                    *ngIf="cpnType === 'Conditional with Memory' 
                                     || cpnType === 'Conditional without Memory' ||  cpnType === 'Floating without Memory'">Coupon Barrier
                                                    Level (%)</option>
                                                <option value="Floor"
                                                    *ngIf="cpnType === 'Floating Unconditional' || cpnType === 'Floating without Memory'">
                                                    Floor p.a. (%)</option>

                                                <option value="LowerCouponBarrier" *ngIf="cpnType === 'Range Accrual'">
                                                    Lower
                                                    Coupon Barrier (%)</option>
                                                <option value="UpperCouponBarrier" *ngIf="cpnType === 'Range Accrual'">
                                                    Upper
                                                    Coupon Barrier (%)</option>
                                                <option value="KI"
                                                    *ngIf="barrierType !== 'Capital Protected' && barrierType !== 'Put Spread' 
                                            && barrierType !== 'Geared Put' && barrierType !== 'Ungeared Put'  && barrierType !== 'None'  && barrierType !== ''">
                                                    KI Barrier (%)</option>
                                                <option value="LowerCallStrike"
                                                    *ngIf="upsideType === 'Call Spread' || upsideType === 'Capped Twin Win'">
                                                    Lower Call Strike (%)</option>
                                                <option value="LowerPutStrike" *ngIf="barrierType === 'Put Spread'">
                                                    Lower Put
                                                    Strike (%)</option>
                                                <option value="Multiplier"
                                                    *ngIf="cpnType === 'Floating Unconditional' || cpnType === 'Floating without Memory'">
                                                    Multiplier (%)</option>
                                                <option value="ProtectionLevel"
                                                    *ngIf="barrierType === 'Capital Protected'">
                                                    Protection Level (%)</option>
                                                <option value="PutStrike"
                                                    *ngIf="barrierType !== 'Capital Protected' && barrierType !== 'Put Spread' && barrierType !== ''">
                                                    Put Strike (%)</option>
                                                    <!-- Condition modified by AdilP & SudarshanP || @12-06-2023 -->
                                                <option value="IBPrice" *ngIf="format !=='Swap'">Reoffer (%)
                                                </option>
                                                <option value="Spread" *ngIf="format ==='Swap'">Spread (%)
                                                </option>

                                                <option value="Upfront" *ngIf="format ==='Swap'">Upfront Fee (%)
                                                </option>
                                                <option value="UpperCallStrike"
                                                    *ngIf="upsideType === 'Call Spread' || upsideType === 'Capped Twin Win'">
                                                    Upper Call Strike (%)</option>
                                                <option value="UpperPutStrike" *ngIf="barrierType === 'Put Spread'">
                                                    Upper Put
                                                    Strike (%)</option>

                                                <option value="Coupon"
                                                    *ngIf="cpnType === 'Floating Unconditional' || cpnType === 'Floating without Memory'">
                                                    Yield Spread p.a. (%)</option>

                                        </select>
                                        <select *ngIf="SolveForDropdown?.length > 0 && SolveForDropdown[0]!=''" [(ngModel)]="SolveForvalue"
                                            [disabled]="SolveForYN == 'N' ">
                                            <option *ngFor="let s of SolveForDropdown" value="{{s.Value}}">
                                                {{s.Key}}
                                            </option>
                                        </select>
                                    </div>
                                </div>
                                 <!--Basket-->
                                <!--Added by Varsha G as per discussion with Sudarshan P || FIN1EURINT-323 || 24-May-2023-->
                                 <!--Start- Commented by Apurva K as asked by Nitish K||06-May-2024 -->
                                <!-- <div class="row-grid-2" *ngIf="ShareBasket && ShareBasket.length > 1">
                                   
                                    <div class="relPosition">
                                        <label *ngIf="ShareBasket && ShareBasket.length > 1">{{ "Basket Type" | translate }}</label>

                                    </div>
                                    <div class="relPosition">
                                        <select name="" [(ngModel)]="basketType" (change)="this.reset();" tabindex="9" *ngIf="ShareBasket && ShareBasket.length > 1" [disabled]="enabledisablefields('BasketType')">
                                                <option *ngFor="let b of BasketType" (selected)="b.Value === basketType"
                                                    [value]="b.Value">
                                                    {{ b.Key }}</option>
                                                
                                            </select>
                                    </div>
                                </div> -->
                                 <!--End- Commented by Apurva K as asked by Nitish K||06-May-2024 -->
                            </div>
                            <!-- Column 2 -->
                            <div class="flex-column">
                                <div class="label-row">
                                    <label class="labelHeaders"></label>
                                </div>

                                <div class="row-grid-2">
                                    <!--Size-->
                                    <div class="relPosition">
                                        <label>{{ "Notional" | translate }}</label>
                                    </div>
                                    <div class="relPosition">
                                        <input type="text" id="txtnotional" type="text" tabindex="5" maxlength="14" value="{{ Notional }}" (focus)="commonfunctions.UnformatNumber($event)" (blur)="this.reset();checkValidNotional($event);checkNotional($event);MinMaxValidation($event, 'Notional');"
                                            (keypress)="commonfunctions.NotionalValidateKeys($event)" (keyup)="commonfunctions.chkNotionalFormat_keyUp($event) === false ? Notional = '': Notional=Notional" placeholder="Enter Notional" [(ngModel)]="Notional"
                                            [disabled]="enabledisablefields('Notional')" />
                                        <!-- Modified keyup event to handle invalid notional || Added by Priya L || 01Apr2022 || assigned by Pranav D. -->
                                        <!--  (blur)= checkNotional($event); MinMaxValidation($event, 'Notional');-->
                                    </div>
                                </div>
                                <div class="row-grid-2">
                                    <!--Price/Upfront-->
                                    <div class="relPosition">
                                        <label class="disabledlbl" *ngIf="this.SolveForvalue === 'IBPrice' && format!=='Swap'">Reoffer
                                                (%)</label><label *ngIf="this.SolveForvalue !== 'IBPrice' && format!=='Swap'">Reoffer
                                                (%)</label>
                                        <label class="disabledlbl" *ngIf="(this.SolveForvalue === 'IBPrice' || this.SolveForvalue === 'Upfront') && format==='Swap'">Upfront
                                                (%)</label><label *ngIf="this.SolveForvalue !== 'IBPrice' &&  this.SolveForvalue !== 'Upfront' && format ==='Swap'">Upfront
                                                (%)</label>

                                    </div>
                                    <div class="div-flex relPosition">
                                        <input type="text" [(ngModel)]="IBPrice" id="txtIBPrice" maxlength="10" [disabled]="this.SolveForvalue === 'IBPrice' || this.SolveForvalue === 'Upfront' || enabledisablefields('ReofferPrice') || enabledisablefields('Upfront')" (change)="IBPricechange()"
                                            (blur)="this.reset();this.IBPrice = commonfunctions.setDecimal($event);" (keypress)="format === 'Swap' ? commonfunctions.InputNegativeNumber($event) :commonfunctions.InputNumber($event)" tabindex="6" />
                                        <img src="{{asseturl}}information.png" class="info" *ngIf="format==='Swap'">
                                        <div class="infodiv" *ngIf="format==='Swap'">
                                            <span class="infoNote whiteSpace" *ngIf="format==='Swap'">
                                                    {{ "Negative Upfront means Issuer pays." | translate }}
                                                </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="row-grid-2" *ngIf="format!=='Swap'">
                                    <!--Issue Price-->
                                    <div class="relPosition">
                                        <label *ngIf="format!=='Swap'">{{ "Issue Price (%)" | translate }}</label>

                                    </div>
                                    <div class="relPosition">
                                        <input type="text" [(ngModel)]="issuePrice" tabindex="7" (blur)="this.issuePrice = commonfunctions.setDecimal($event); this.reset();" maxlength="10" (keypress)="commonfunctions.InputNumber($event)" *ngIf="format!=='Swap'" [disabled]="enabledisablefields('IssuePrice')"
                                        />
                                    </div>
                                </div>
                                 <!-- Changes by Apurva K for FIN1EURINT-218| 25-Apr-2023 -->
                                <div class="row-grid-2" *ngIf="format !== 'Swap'">
                                    <div class="relPosition">
                                        <label *ngIf="format !== 'Swap'">{{ "Public or Private" | translate }}</label>

                                    </div>
                                    <div class="relPosition">
                                        <select #focusable name="" [(ngModel)]="publicOrPrivate" (change)="this.reset();publicprivateChange();" 
                                        *ngIf="(publicPrivateDropdown?.length <= 0  || publicPrivateDropdown[0]=='') && (format !== 'Swap')"
                                        tabindex="8" [disabled]="enabledisablefields('PublicPrivate')" class="ip-border">
                                                <option *ngFor="let p of PublicorPrivate"
                                                    (selected)="p.Value === publicOrPrivate" [value]="p.Value">
                                                    {{ p.Key }}</option>
                                        </select>

                                        <select #focusable name="" [(ngModel)]="publicOrPrivate" [disabled]="publicPrivateYN == 'N' "
                                            (change)="this.reset();" *ngIf="publicPrivateDropdown.length > 0 && publicPrivateDropdown[0]!=''">
                                            <option *ngFor="let p of publicPrivateDropdown" (selected)="p === publicOrPrivate"
                                                [value]="p">
                                                {{ p}}
                                            </option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row-grid-2" *ngIf="format !== 'Swap'"> 
                                    <!--Listed-->
                                     <div class="relPosition">
                                        <label class="disabledlbl" *ngIf="format !== 'Swap'">{{ "Listed" | translate }}</label>
                                    </div>
                                    <div class="relPosition">
                                        <div class="btngroup">
                                            <button class="Btn Btn_Yes" [(ngModel)]="listed" ngDefaultControl  *ngIf="format !== 'Swap'" [disabled]="publicOrPrivate === 'Public Offer' || publicOrPrivate === 'Private Placement' || enabledisablefields('Listed')" [ngClass]="listed === 'Y'?'btnYesDisabled':'btnNoDisabled'" (change)="this.reset();">Yes</button>
                                            <button class="Btn Btn_No" [(ngModel)]="listed" ngDefaultControl  *ngIf="format !== 'Swap'" [disabled]="publicOrPrivate === 'Public Offer' || publicOrPrivate === 'Private Placement' || enabledisablefields('Listed')" [ngClass]="listed === 'N'?'btnYesDisabled':'btnNoDisabled'" (change)="this.reset();">No</button>
                                        </div> 

                                        <!-- <mat-button-toggle-group [(ngModel)]="listed" tabindex="8"
                                                *ngIf="format !== 'Swap'"
                                                [disabled]="publicOrPrivate === 'Public Offer' || publicOrPrivate === 'Private Placement' || enabledisablefields('Listed')"
                                                (change)="this.reset();">
                                                <mat-button-toggle value="Y" style="width: 7.7em; height: 35px;">Yes
                                                </mat-button-toggle>
                                                <mat-button-toggle value="N" style="width: 7.7em; height: 35px;">No
                                                </mat-button-toggle>
                                            </mat-button-toggle-group> -->

                                     </div>
                                </div> 
                                <div class="row-grid-2" *ngIf="listed === 'Y' && format !== 'Swap'">
                                    <!--Stock Exchange-->
                                    <div class="relPosition">
                                        <label *ngIf="listed === 'Y' && format !== 'Swap'">{{ "Stock Exchange" | translate }}</label>
                                    </div>
                                    <div class="relPosition">
                                        <select name="" [(ngModel)]="stockExchange" (change)="this.reset(); removeErrorPopup($event)" *ngIf="listed === 'Y' && format !== 'Swap'" tabindex="10" id="ddlstockExchange" [disabled]="enabledisablefields('StockExchange')" class="ip-border">
                                                <!-- <option value=""></option>
                                        <option value="Dublin">Dublin</option>
                                        <option value="Euronext">Euronext</option>
                                        <option value="Frankfurt">Frankfurt</option>
                                        <option value="LSE">LSE</option>
                                        <option value="Luxembourg">Luxembourg</option>
                                        <option value="SIX Swiss Exchange">SIX Swiss Exchange</option>
                                        <option value="Stuttgart">Stuttgart</option>
                                        <option value="Borsa Italiana">Borsa Italiana</option>
                                        <option value="Bolsa de Madrid">Bolsa de Madrid</option> -->
                                                <option *ngFor="let s of StockExchange"
                                                    (selected)="s.Value === stockExchange" [value]="s.Value">
                                                    {{ s.Key }}</option>
                                            </select>
                                    </div>
                                </div>
                                 <!-- Changes by Apurva K for FIN1EURINT-218| 25-Apr-2023 -->
                                <!-- <div class="row-grid-2" *ngIf="ShareBasket && ShareBasket.length > 1"> --><!--Commented and moved this div below 'Solve For' as per discussion with Sudarshan P for FIN1EURINT-323 || Varsha G || 24-May-2023 -->
                                    <!--Basket-->
                                    <!-- <div style="position:relative;"> -->
                                        <!-- *ngIf="ShareBasket && ShareBasket.length > 1" -->
                                        <!-- <label *ngIf="ShareBasket && ShareBasket.length > 1">{{ "Basket Type" | translate }}</label>

                                    </div>
                                    <div style="position:relative;">
                                        <select name="" [(ngModel)]="basketType" (change)="this.reset();" tabindex="9" *ngIf="ShareBasket && ShareBasket.length > 1" [disabled]="enabledisablefields('BasketType')">
                                                <option *ngFor="let b of BasketType" (selected)="b.Value === basketType"
                                                    [value]="b.Value">
                                                    {{ b.Key }}</option> -->
                                                <!-- <option value="Best-Of">Best-Of</option>
                                        <option value="Equally-Weighted Basket">Equally-Weighted Basket</option>
                                        <option value="Worst-Of">Worst-Of</option> -->
                                            <!-- </select>
                                    </div>
                                </div> -->
                            </div>
                        </div>
                        <div class="row-grid-inner rwgrdMargin">
                            <!-- Column 1 -->
                            <div class="flex-column">
                                

                                <!-- <div class="row-grid-2" *ngIf="format !== 'Swap'">
                                    <div style="position:relative;">
                                        <label *ngIf="format !== 'Swap'">{{ "Public or Private" | translate }}</label>

                                    </div>
                                    <div style="position:relative;">
                                        <select #focusable name="" [(ngModel)]="publicOrPrivate" (change)="this.reset();publicprivateChange();" tabindex="8" *ngIf="format !== 'Swap'" [disabled]="enabledisablefields('PublicPrivate')" class="ip-border">
                                                <option *ngFor="let p of PublicorPrivate"
                                                    (selected)="p.Value === publicOrPrivate" [value]="p.Value">
                                                    {{ p.Key }}</option>
                                            </select>
                                    </div>
                                </div> -->
                                <!-- <div class="row-grid-2"> --><!--Commented by Varsha G || FIN1EURINT-323 || 22-May-2023-->
                                    <!--Quanto-->
                                    <!-- <div style="position:relative;">
                                        <label>{{ "Quanto" | translate }}</label>

                                    </div>
                                    <div style="position:relative;">
                                        <div class="btngroup">
                                            <button class="Btn Btn_Yes" [ngClass]="quanto === 'Yes'?'btnYesDisabled':'btnNoDisabled'" [(ngModel)]="quanto" ngDefaultControl disabled (change)="this.reset();">Yes</button>
                                            <button class="Btn Btn_No" [ngClass]="quanto === 'No'?'btnYesDisabled':'btnNoDisabled'" [(ngModel)]="quanto" ngDefaultControl disabled (change)="this.reset();">No</button>
                                        </div> -->
                                        <!-- <mat-button-toggle-group [(ngModel)]="quanto" disabled
                                                (change)="this.reset();">
                                                <mat-button-toggle value="Yes" style="width: 7.7em; height: 35px;">Yes
                                                </mat-button-toggle>
                                                <mat-button-toggle value="No" style="width: 7.7em; height: 35px;">No
                                                </mat-button-toggle>
                                            </mat-button-toggle-group> -->
                                    <!-- </div>
                                </div> -->
                            </div>
                            <!-- Column 2 -->
                            <div class="flex-column">

                                <!-- <div class="row-grid-2" *ngIf="format !== 'Swap'">  -->
                                    <!--Listed-->
                                     <!-- <div style="position:relative;">
                                        <label class="disabledlbl" *ngIf="format !== 'Swap'">{{ "Listed" | translate }}</label>
                                    </div>
                                    <div style="position:relative;">
                                        <div class="btngroup">
                                            <button class="Btn Btn_Yes" [(ngModel)]="listed" ngDefaultControl  *ngIf="format !== 'Swap'" [disabled]="publicOrPrivate === 'Public Offer' || publicOrPrivate === 'Private Placement' || enabledisablefields('Listed')" [ngClass]="listed === 'Y'?'btnYesDisabled':'btnNoDisabled'" (change)="this.reset();">Yes</button>
                                            <button class="Btn Btn_No" [(ngModel)]="listed" ngDefaultControl  *ngIf="format !== 'Swap'" [disabled]="publicOrPrivate === 'Public Offer' || publicOrPrivate === 'Private Placement' || enabledisablefields('Listed')" [ngClass]="listed === 'N'?'btnYesDisabled':'btnNoDisabled'" (change)="this.reset();">No</button>
                                        </div>  -->

                                        <!-- <mat-button-toggle-group [(ngModel)]="listed" tabindex="8"
                                                *ngIf="format !== 'Swap'"
                                                [disabled]="publicOrPrivate === 'Public Offer' || publicOrPrivate === 'Private Placement' || enabledisablefields('Listed')"
                                                (change)="this.reset();">
                                                <mat-button-toggle value="Y" style="width: 7.7em; height: 35px;">Yes
                                                </mat-button-toggle>
                                                <mat-button-toggle value="N" style="width: 7.7em; height: 35px;">No
                                                </mat-button-toggle>
                                            </mat-button-toggle-group> -->

                                     <!-- </div>
                                </div>  -->
                                <!-- <div class="row-grid-2" *ngIf="listed === 'Y' && format !== 'Swap'"> -->
                                    <!--Stock Exchange-->
                                    <!-- <div style="position:relative;">
                                        <label *ngIf="listed === 'Y' && format !== 'Swap'">{{ "Stock Exchange" | translate }}</label>
                                    </div>
                                    <div style="position:relative;">
                                        <select name="" [(ngModel)]="stockExchange" (change)="this.reset(); removeErrorPopup($event)" *ngIf="listed === 'Y' && format !== 'Swap'" tabindex="10" id="ddlstockExchange" [disabled]="enabledisablefields('StockExchange')" class="ip-border"> -->
                                                <!-- <option value=""></option>
                                        <option value="Dublin">Dublin</option>
                                        <option value="Euronext">Euronext</option>
                                        <option value="Frankfurt">Frankfurt</option>
                                        <option value="LSE">LSE</option>
                                        <option value="Luxembourg">Luxembourg</option>
                                        <option value="SIX Swiss Exchange">SIX Swiss Exchange</option>
                                        <option value="Stuttgart">Stuttgart</option>
                                        <option value="Borsa Italiana">Borsa Italiana</option>
                                        <option value="Bolsa de Madrid">Bolsa de Madrid</option> -->
                                                <!-- <option *ngFor="let s of StockExchange"
                                                    (selected)="s.Value === stockExchange" [value]="s.Value">
                                                    {{ s.Key }}</option>
                                            </select>
                                    </div>
                                </div> -->
                            </div>
                        </div>
                       

                    </div>

                    <!--Right Column-->
                    <div class="relPosition">
                        <!-- Column 1 & 2 -->
                        <div class="row-grid-inner">

                            <!-- Column 1 (Yield Enhancement)-->
                            <div class="flex-column">
                                <div class="label-row">
                                    <label class="box-header">Yield Enhancement</label>
                                </div>
                                <div class="row-grid-2">
                                    <!--Type 2-->
                                    <div class="relPosition">
                                        <label>{{ "Coupon Type" | translate }}</label>
                                    </div>
                                    <div class="relPosition">
                                        <select name="" [(ngModel)]="cpnType" (change)="cpnTypeChange()" tabindex="19" class="selectOverflow" 
                                        *ngIf="periodicCpnTypeDropdown?.length <= 0 || periodicCpnTypeDropdown[0]==''"
                                        [disabled]="enabledisablefields('PeriodicCpnType')" class="ip-border">
                                                <!-- <option value="Snowball">Snowball</option>
                                        <option value="Fixed Unconditional" *ngIf="autoFreq !== 'Daily'">Fixed
                                            Unconditional</option>
                                        <option value="Conditional with Memory" *ngIf="autoFreq !== 'Daily'">Conditional
                                            with Memory</option>
                                        <option value="Conditional without Memory" *ngIf="autoFreq !== 'Daily'">
                                            Conditional without Memory</option>
                                        <option value="Range Accrual" *ngIf="autoFreq !== 'Daily'">Range Accrual
                                        </option>
                                        <option value="Floating Unconditional" *ngIf="autoFreq !== 'Daily'">Floating
                                            Unconditional</option>
                                        <option value="Floating without Memory" *ngIf="autoFreq !== 'Daily'">Floating
                                            without Memory</option> -->
                                                <ng-container *ngFor="let c of CouponType">
                                                    <!-- *ngIf="c.Value !== 'Fixed Unconditional' && c.Value !== 'Conditional with Memory' 
                                                &&  c.Value !== 'Conditional without Memory' && c.Value !== 'Range Accrual' && c.Value !== 'Floating Unconditional' 
                                                && c.Value !== 'Floating without Memory'" -->
                                                    <option [value]="c.Value">{{c.Key}}
                                                    </option>
                                                    <!-- <option
                                                    *ngIf="c.Value === 'Fixed Unconditional' && autoFreq !== 'Daily'"
                                                    [value]="c.Value">{{c.Key}}</option>
                                                <option
                                                    *ngIf="c.Value === 'Conditional with Memory' && autoFreq !== 'Daily'"
                                                    [value]="c.Value">{{c.Key}}</option>
                                                <option
                                                    *ngIf="c.Value === 'Conditional without Memory' && autoFreq !== 'Daily'"
                                                    [value]="c.Value">{{c.Key}}</option>
                                                <option *ngIf="c.Value === 'Range Accrual' && autoFreq !== 'Daily'"
                                                    [value]="c.Value">{{c.Key}}</option>
                                                <option
                                                    *ngIf="c.Value === 'Floating Unconditional' && autoFreq !== 'Daily'"
                                                    [value]="c.Value">{{c.Key}}</option>
                                                <option
                                                    *ngIf="c.Value === 'Floating without Memory' && autoFreq !== 'Daily'"
                                                    [value]="c.Value">{{c.Key}}</option> -->
                                                </ng-container>

                                            </select>
                                            <select name="" [(ngModel)]="cpnType"  class="selectOverflow"
                                            [disabled]="periodicCpnTypeYN=='N' " 
                                            *ngIf="periodicCpnTypeDropdown?.length > 0 && periodicCpnTypeDropdown[0]!=''">
                                            <option *ngFor="let c of periodicCpnTypeDropdown" [value]="c">
                                                {{c}}
                                            </option>
                                            </select>

                                    </div>
                                </div>
                                <div class="row-grid-2" *ngIf="cpnType === 'Conditional with Memory' || cpnType === 'Conditional without Memory' || cpnType === 'Range Accrual'">
                                    <!--Trigger 2-->
                                    <div class="relPosition">
                                        <label *ngIf="cpnType === 'Conditional with Memory' || cpnType === 'Conditional without Memory'">{{ "Coupon Barrier Type" | translate }}</label>
                                        <label *ngIf="cpnType === 'Range Accrual'">{{ "Range Accrual Freq" | translate }}</label>
                                    </div>
                                    <div class="relPosition">
                                        <select name="" [(ngModel)]="cpnObservation" (change)="this.reset();" class="selectOverflow ip-border" 
                                        tabindex="20" [disabled]="enabledisablefields('CouponBarrierType')" 
                                        *ngIf="(allDefaultValues?.length < 1 || cpnBarrierTypeDropdown[0]=='') && (cpnType === 'Conditional with Memory' || cpnType === 'Conditional without Memory')">
                                                <!-- <option *ngFor="let cb of CouponBarrierType" (selected)="cb.Value === cpnObservation" [value]="cb.Value">
                                            {{ cb.Key }}</option> -->

                                                <!-- <option value="American Daily Close (Over the Month)"
                                                        *ngIf="cpnFreq === 'Monthly'">American Daily Close
                                                        (Over
                                                        the
                                                        Month)
                                                    </option>
                                                    <option value="American Daily Close (Over the Quarter)"
                                                        *ngIf="cpnFreq === 'Quarterly'">American Daily Close
                                                        (Over
                                                        the
                                                        Quarter)
                                                    </option>
                                                    <option value="American Daily Close (Over the Semester)"
                                                        *ngIf="cpnFreq === 'Semiannually'">American Daily Close
                                                        (Over
                                                        the
                                                        Semester)
                                                    </option>
                                                    <option value="American Daily Close (Over the Year)"
                                                        *ngIf="cpnFreq === 'Yearly'">American Daily Close
                                                        (Over
                                                        the
                                                        Year)
                                                    </option>
                                                    <option value="American Intraday (Over the Month)"
                                                        *ngIf="cpnFreq === 'Monthly'">American Intraday (Over
                                                        the
                                                        Month)
                                                    </option>

                                                    <option value="American Intraday (Over the Quarter)"
                                                        *ngIf="cpnFreq === 'Quarterly'">American Intraday (Over
                                                        the
                                                        Quarter)
                                                    </option>
                                                    <option value="American Intraday (Over the Semester)"
                                                        *ngIf="cpnFreq === 'Semiannually'">American Intraday (Over
                                                        the
                                                        Semester)
                                                    </option>
                                                    <option value="American Intraday (Over the Year)"
                                                        *ngIf="cpnFreq === 'Yearly'">American Intraday (Over
                                                        the
                                                        Year)
                                                    </option> -->
                                                <option value="European" *ngIf="cpnFreq === 'Daily'">European

                                                </option>
                                                <option value="European (Last day of the Month)"
                                                    *ngIf="cpnFreq === 'Monthly'">European (Last day of the
                                                    Month)
                                                </option>
                                                <option value="European (Last day of the Quarter)"
                                                    *ngIf="cpnFreq === 'Quarterly'">European (Last day of the
                                                    Quarter)
                                                </option>



                                                <option value="European (Last day of the Semester)"
                                                    *ngIf="cpnFreq === 'Semiannually'">European (Last day of the
                                                    Semester)
                                                </option>



                                                <option value="European (Last day of the Year)"
                                                    *ngIf="cpnFreq === 'Yearly'">European (Last day of the
                                                    Year)
                                                </option>





                                            </select>

                                        <select name="" [(ngModel)]="cpnObservation"
                                                (change)="this.reset();" class="selectOverflow" tabindex="28"
                                                [disabled]="cpnBarrierTypeYN=='N' "
                                                *ngIf="allDefaultValues?.length > 0 && cpnBarrierTypeDropdown[0]!=''">
                                                <option *ngFor="let Btype of cpnBarrierTypeDropdown" [value]="Btype">
                                                    {{Btype}}
                                                </option>
                                        </select>
                                        <select name="" [(ngModel)]="rangeAccrualFreq" (change)="this.reset();" tabindex="21" *ngIf="cpnType === 'Range Accrual'" [disabled]="enabledisablefields('RangeAccuralFreq')">
                                                <option selected="selected" value="Daily">Daily</option>
                                                <option value="Weekly">Weekly</option>
                                                <option value="Monthly">Monthly</option>
                                            </select>
                                    </div>
                                </div>
                                <div class="row-grid-2" *ngIf="cpnType === 'Conditional with Memory' || cpnType === 'Conditional without Memory' || cpnType === 'Floating without Memory' || cpnType === 'Range Accrual'">
                                    <!--Lower/Upper Trigger-->
                                    <div class="divRateSpread">
                                        <label *ngIf="cpnType === 'Conditional with Memory' || cpnType === 'Conditional without Memory' || cpnType === 'Floating without Memory'"><span>Coupon
                                                    Barrier Level(%)</span></label>
                                        <label *ngIf="cpnType === 'Range Accrual'"><span>Lower/Upper Trigger
                                                    (%)</span></label>
                                    </div>
                                    <div class="div-flex relPosition">
                                        <input type="text" name="" [(ngModel)]="cpnTrigger" id="txtCouponBarrier" maxlength="100" (blur)="PriceValidation($event,'CouponTrigger');this.cpnTrigger = commonfunctions.setDecimal($event)" (keypress)="commonfunctions.AutocallTriggerInputNumber($event)" *ngIf="cpnType === 'Conditional with Memory' || cpnType === 'Conditional without Memory' || cpnType === 'Floating without Memory'"
                                            tabindex="22" [disabled]="this.SolveForvalue === 'CouponBarrier' ">
                                        <span (clickOutside)="onClickedOutside('cpnTrigger')" *ngIf="cpnType === 'Conditional with Memory' || cpnType === 'Conditional without Memory' || cpnType === 'Floating without Memory'">
                                                <img src="{{asseturl}}information.png" class="info"
                                                    *ngIf="cpnTrigger !=='' && (cpnType === 'Conditional with Memory' || cpnType === 'Conditional without Memory' || cpnType === 'Floating without Memory')"
                                                    (click)="GetTriggerValue('cpnTrigger')">
                                                <div *ngIf="cpnTriggerPopup" class="triggerTable">

                                                    <table class="tblWidth">
                                                        <tr>
                                                            <th class="hdrWidth">Periods</th>
                                                            <th class="hdrWidth">
                                                                Trigger</th>
                                                        </tr>
                                                        <tr *ngFor="let t of TriggerValueArr; let i = index; "
                                                            class="tblWidth">

                                                            <td class="tdRight hdrWidth">{{t.NoOfPeriods}}
                                                            </td>
                                                            <td class="tdRight hdrWidth"> {{t.OutTrigger |
                                                                number:'1.2-2'}}
                                                            </td>

                                                        </tr>
                                                    </table>
                                                </div>
                                            </span>

                                        <input type="text" (change)="this.reset();" class="txtsmall" *ngIf="cpnType === 'Range Accrual'" [(ngModel)]="lowCpnBarrier" [disabled]="SolveForvalue === 'LowerCouponBarrier'" tabindex="23">
                                        <input type="text" (change)="this.reset();" class="txtsmall" *ngIf="cpnType === 'Range Accrual'" [(ngModel)]="upperCpnBarrier" [disabled]="SolveForvalue === 'UpperCouponBarrier'" tabindex="24">
                                    </div>
                                </div>
                                <div class="row-grid-2" *ngIf="cpnType !== 'Snowball'">
                                    <!--Frequency-->
                                    <div class="relPosition">
                                        <label *ngIf="cpnType !== 'Snowball'">{{ "Coupon Frequency" | translate }}</label>
                                    </div>
                                    <div class="relPosition">
                                        <select name="" [(ngModel)]="cpnFreq" 
                                        *ngIf="(cpnType !== 'Snowball') && (cpnFreqDropdown?.length <= 0 || cpnFreqDropdown[0]=='')" tabindex="25" 
                                        (change)="this.reset();" class="ip-border" >
                                                <option value="Monthly">Monthly</option>
                                                <option value="Quarterly">
                                                    Quarterly
                                                </option>
                                                <option value="Semiannually">
                                                    Semiannually
                                                </option>
                                                <!-- <option value="2m"
                                            *ngIf="autoFreq === '2m'|| autoFreq === '3m' || autoFreq === '4m' || autoFreq === '6m'|| autoFreq === '12m'">
                                            2m</option>
                                        <option value="3m"
                                            *ngIf="autoFreq === '3m'|| autoFreq === '4m' || autoFreq === '6m'|| autoFreq === '12m'">
                                            3m</option>
                                        <option value="4m" *ngIf="autoFreq === '4m'|| autoFreq === '6m'|| autoFreq === '12m'">4m
                                        </option>
                                        <option value="6m" *ngIf="autoFreq === '6m'|| autoFreq === '12m'">6m</option>
                                        <option value="12m" *ngIf="autoFreq === '12m'">12m</option> -->

                                                <!-- <ng-container *ngFor="let a of AutocallFrequency">
                                            <option *ngIf="a.Flag" value="{{a.Value}}">{{a.Key}}</option>
                                        </ng-container> -->

                                                <option value="Yearly">Yearly
                                                </option>
                                        </select>
                                        <select  name="" [(ngModel)]="cpnFreq"
                                            [disabled]="periodicCpnFreqYN=='N' " *ngIf="cpnFreqDropdown?.length > 0 && cpnFreqDropdown[0]!=''">
                                            <option *ngFor="let f of cpnFreqDropdown" [value]="f">
                                                {{f}}
                                            </option>
                                        </select>

                                    </div>
                                </div>
                                <div class="row-grid-2" *ngIf="cpnType === 'Floating Unconditional' || cpnType === 'Floating without Memory'">
                                    <!--Floating Ref Index-->
                                    <div class="relPosition">
                                        <label *ngIf="cpnType === 'Floating Unconditional' || cpnType === 'Floating without Memory'">Floating
                                                Ref Index</label>
                                    </div>
                                    <div class="relPosition">
                                        <select class="selectOverflow txtsmall" tabindex="26" *ngIf="cpnType === 'Floating Unconditional' || cpnType === 'Floating without Memory'" [(ngModel)]="cpnFltRef" disabled>
                                                <option value="BBSW1M Index">BBSW1M Index</option>
                                                <option value="BBSW2M Index">BBSW2M Index</option>
                                                <option value="HIHD12M Index">HIHD12M Index</option>
                                                <option value="BBSW3M Index">BBSW3M Index</option>
                                                <option value="HIHD01M Index">HIHD01M Index</option>
                                                <option value="HIHD02M Index">HIHD02M Index</option>
                                                <option value="HKD3MH">HKD3MH</option>
                                                <option value="HKD6MH">HKD6MH</option>
                                                <option value="HIHD12M Index">HIHD12M Index</option>
                                                <option value="BBSW6M Index">BBSW6M Index</option>
                                                <option value="ADSW1 Index">ADSW1 Index</option>
                                                <option value="ADSW2 Index">ADSW2 Index</option>
                                                <option value="HDSW1 Index">HDSW1 Index</option>
                                                <option value="ADSW3 Index">ADSW3 Index</option>
                                                <option value="ADSW4 Index">ADSW4 Index</option>
                                                <option value="HDSW2 Index">HDSW2 Index</option>
                                                <option value="AUD5YS">AUD5YS</option>
                                                <option value="HDSW3 Index">HDSW3 Index</option>
                                                <option value="ADSW10 Index">ADSW10 Index</option>
                                                <option value="HDSW4 Index">HDSW4 Index</option>
                                                <option value="ADSW15 Index">ADSW15 Index</option>
                                                <option value="HDSW5 Index">HDSW5 Index</option>
                                                <option value="ADSW30 Index">ADSW30 Index</option>
                                                <option value="HDSW10 Index">HDSW10 Index</option>
                                                <option value="NDSW1 Index">NDSW1 Index</option>
                                                <option value="NDSW2 Index">NDSW2 Index</option>
                                                <option value="CHF1ML">CHF1ML</option>
                                                <option value="SF0002M Index">SF0002M Index</option>
                                                <option value="NDSW3 Index">NDSW3 Index</option>
                                                <option value="SF0003M Index">SF0003M Index</option>
                                                <option value="NDSW4 Index">NDSW4 Index</option>
                                                <option value="NDSW5 Index">NDSW5 Index</option>
                                                <option value="SF0006M Index">SF0006M Index</option>
                                                <option value="SF0012M Index">SF0012M Index</option>
                                                <option value="NDSW10 Index">NDSW10 Index</option>
                                                <option value="SFSW1 Index">SFSW1 Index</option>
                                                <option value="NDSW15 Index">NDSW15 Index</option>
                                                <option value="SIBF1M Index">SIBF1M Index</option>
                                                <option value="SIBF2M Index">SIBF2M Index</option>
                                                <option value="SIBF3M Index">SIBF3M Index</option>
                                                <option value="SFSW2 Index">SFSW2 Index</option>
                                                <option value="SGD4MS">SGD4MS</option>
                                                <option value="SFSW3 Index">SFSW3 Index</option>
                                                <option value="SFSW4 Index">SFSW4 Index</option>
                                                <option value="CGSW1 Index">CGSW1 Index</option>
                                                <option value="SFSW10 Index">SFSW10 Index</option>
                                                <option value="SIBF6M Index">SIBF6M Index</option>
                                                <option value="CGSW2 Index">CGSW2 Index</option>
                                                <option value="CGSW3 Index">CGSW3 Index</option>
                                                <option value="CGSW4 Index">CGSW4 Index</option>
                                                <option value="CGSW5 Index">CGSW5 Index</option>
                                                <option value="SORF1M Index">SORF1M Index</option>
                                                <option value="CGSW10 Index">CGSW10 Index</option>
                                                <option value="SGD2MSO">SGD2MSO</option>
                                                <option value="CNH15YS">CNH15YS</option>
                                                <option selected="selected" value="EUR1ML">EUR1ML</option>
                                                <option value="CNH30YS">CNH30YS</option>
                                                <option value="HICNH1M Index">HICNH1M Index</option>
                                                <option value="EUR2ML">EUR2ML</option>
                                                <option value="SORF3M Index">SORF3M Index</option>
                                                <option value="HICNH2M Index">HICNH2M Index</option>
                                                <option value="HICNH3M Index">HICNH3M Index</option>
                                                <option value="EUR3ML">EUR3ML</option>
                                                <option value="CNH6ML">CNH6ML</option>
                                                <option value="SORF6M Index">SORF6M Index</option>
                                                <option value="CNH12ML">CNH12ML</option>
                                                <option value="EUR6ML">EUR6ML</option>
                                                <option value="SDSW1 Index">SDSW1 Index</option>
                                                <option value="EE0012M Index">EE0012M Index</option>
                                                <option value="US0012M Index">US0012M Index</option>
                                                <option value="USSW1 Index">USSW1 Index</option>
                                                <option value="SDSW2 Index">SDSW2 Index</option>
                                                <option value="USSW2 Index">USSW2 Index</option>
                                                <option value="SDSW3 Index">SDSW3 Index</option>
                                                <option value="USSW3 Index">USSW3 Index</option>
                                                <option value="USSW4 Index">USSW4 Index</option>
                                                <option value="SDSW4 Index">SDSW4 Index</option>
                                                <option value="USSW5 Index">USSW5 Index</option>
                                                <option value="USSW10 Index">USSW10 Index</option>
                                                <option value="SDSW5 Index">SDSW5 Index</option>
                                                <option value="USSW15 Index">USSW15 Index</option>
                                                <option value="USSW30 Index">USSW30 Index</option>
                                                <option value="SDSW10 Index">SDSW10 Index</option>
                                                <option value="US0001M Index">US0001M Index</option>
                                                <option value="EUR001M Index">EUR001M Index</option>
                                                <option value="EUR002M Index">EUR002M Index</option>
                                                <option value="EUSA15 Index">EUSA15 Index</option>
                                                <option value="EUR003M Index">EUR003M Index</option>
                                                <option value="US0002M Index">US0002M Index</option>
                                                <option value="EUSA30 Index">EUSA30 Index</option>
                                                <option value="EUR006M Index">EUR006M Index</option>
                                                <option value="BP0001M Index">BP0001M Index</option>
                                                <option value="EUR012M Index">EUR012M Index</option>
                                                <option value="BP0002M Index">BP0002M Index</option>
                                                <option value="EUSA1 Index">EUSA1 Index</option>
                                                <option value="EUSA2 Index">EUSA2 Index</option>
                                                <option value="BP0006M Index">BP0006M Index</option>
                                                <option value="EUSA3 Index">EUSA3 Index</option>
                                                <option value="EUSA4 Index">EUSA4 Index</option>
                                                <option value="BP0012M Index">BP0012M Index</option>
                                                <option value="US0003M Index">US0003M Index</option>
                                                <option value="US0006M Index">US0006M Index</option>
                                                <option value="BPSW2 Index">BPSW2 Index</option>
                                                <option value="BPSW3 Index">BPSW3 Index</option>
                                                <option value="BPSW4 Index">BPSW4 Index</option>
                                                <option value="BPSW5 Index">BPSW5 Index</option>
                                                <option value="BPSW10 Index">BPSW10 Index</option>
                                                <option value="SFSW10 Index">SFSW10 Index</option>
                                                <option value="EUSA5 Index">EUSA5 Index</option>
                                                <option value="BP0003M Index">BP0003M Index</option>
                                                <option value="EUSA10 Index">EUSA10 Index</option>
                                                <option value="BPSW1 Index">BPSW1 Index</option>
                                                <option value="KLIBOR1M">KLIBOR1M</option>
                                                <option value="SIBOR1M">SIBOR1M</option>
                                                <option value="SIBOR3M">SIBOR3M</option>
                                                <option value="SIBOR6M">SIBOR6M</option>
                                                <option value="JIBOR6M">JIBOR6M</option>
                                                <option value="MIBOR ON">MIBOR ON</option>
                                                <option value="KLIBOR3M">KLIBOR3M</option>
                                                <option value="KLIBOR6M">KLIBOR6M</option>
                                                <option value="HSCEI">HSCEI</option>
                                                <option value="CMS30">CMS30</option>
                                                <option value="3M LIBOR">3M LIBOR</option>
                                                <option value="3M SHIBOR">3M SHIBOR</option>
                                                <option value="1M LIBOR">1M LIBOR</option>
                                                <option value="FTSE.AT">FTSE.AT</option>
                                                <option value="CMS02">CMS02</option>
                                            </select>
                                        <select class="selectOverflow txtsmall" [(ngModel)]="cpnFixing" tabindex="27" *ngIf="cpnType === 'Floating Unconditional' || cpnType === 'Floating without Memory'">
                                                <option *ngFor="let f of FixingDetermination"
                                                    (selected)="f.Value === cpnFixing" [value]="f.Value">
                                                    {{ f.Key }}</option>
                                                <!-- <option selected="selected" value="In Advance">In Advance</option>
                                        <option value="In Arrears">In Arrears</option> -->
                                            </select>
                                    </div>
                                </div>
                                <div class="row-grid-2">
                                    <!--Coupon/Spread (%)-->
                                    <div class="relPosition">
                                        <!-- <label class="disabledlbl"
                                        *ngIf="cpnType !== 'No Coupon' && this.SolveForvalue === 'Coupon'">Coupon/Spread
                                        (%) </label>
                                    <label *ngIf="cpnType !== 'No Coupon' && this.SolveForvalue !== 'Coupon'">Coupon/Spread
                                        (%) </label> -->
                                        <label *ngIf="cpnType !== 'Floating Unconditional' && cpnType !== 'Floating without Memory'">Coupon
                                                p.a. (%)</label>
                                        <label *ngIf="cpnType === 'Floating Unconditional' || cpnType === 'Floating without Memory'">Yield
                                                Spread p.a. (%)</label>
                                    </div>
                                    <div class="div-flex relPosition">
                                        <input type="text" id="txtCoupon" [(ngModel)]="cpnCoupon" maxlength="8" (blur)="this.reset();this.cpnCoupon = checkValidCouponPerc($event)" (keypress)="commonfunctions.InputNumber($event)" tabindex="28" 
                                        [disabled]="this.SolveForvalue === 'Coupon'"> <!-- Removed second conditional check for FIN1EURINT-595 || Kaustubh S || 21-Aug-2023 -->
                                        <img src="{{asseturl}}information.png" class="info" *ngIf="cpnCoupon !== ''">
                                        <div class="infodiv dvSpreadPa" *ngIf="cpnCoupon !== ''">
                                            <span class="infoNote whiteSpace" *ngIf="cpnCoupon !== ''">
                                                    {{showCouponTooltip()}} % coupon to be paid per period.
                                                </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="row-grid-2" *ngIf="cpnType === 'Floating Unconditional' || cpnType === 'Floating without Memory'">
                                    <!--Floor & Cap-->
                                    <div class="relPosition">
                                        <label *ngIf="cpnType === 'Floating Unconditional' || cpnType === 'Floating without Memory'">Floor
                                                & Cap</label>
                                    </div>
                                    <div class="relPosition">
                                        <input type="text" (blur)="this.reset();this.cpnFloor = commonfunctions.setDecimal($event);" class="txtsmall" *ngIf="cpnType === 'Floating Unconditional' || cpnType === 'Floating without Memory'" [(ngModel)]="cpnFloor" tabindex="29">
                                        <input type="text" (blur)="this.reset();this.cpnCap = commonfunctions.setDecimal($event);" class="txtsmall" *ngIf="cpnType === 'Floating Unconditional' || cpnType === 'Floating without Memory'" [(ngModel)]="cpnCap" tabindex="30">
                                    </div>
                                </div>
                                <div class="row-grid-2" *ngIf="cpnType === 'Floating Unconditional' || cpnType === 'Floating without Memory'">
                                    <!--Multiplier (%)<-->
                                    <div class="relPosition">
                                        <label *ngIf="cpnType === 'Floating Unconditional' || cpnType === 'Floating without Memory'">Multiplier
                                                (%)</label>
                                    </div>
                                    <div class="relPosition">
                                        <input type="text" (blur)="this.reset();this.cpnMultiplier = commonfunctions.setDecimal($event);" *ngIf="cpnType === 'Floating Unconditional' || cpnType === 'Floating without Memory'" [(ngModel)]="cpnMultiplier" tabindex="31">
                                    </div>
                                </div>
                                <!-- <div class="row-grid-2"
                                *ngIf="cpnType === 'Conditional with Memory' || cpnType === 'Conditional without Memory'">
                              
                                <div style="position:relative;">
                                    <label
                                        *ngIf="cpnType === 'Conditional with Memory' || cpnType === 'Conditional without Memory'">Coupon
                                        in fine</label>
                                </div>
                                <div style="position:relative;">
                                    <mat-button-toggle-group [(ngModel)]="cpnInFine" tabindex="47"
                                        *ngIf="cpnType === 'Conditional with Memory' || cpnType === 'Conditional without Memory'">
                                        <mat-button-toggle value="Y" style="width: 7.7em; height: 35px;">Yes
                                        </mat-button-toggle>
                                        <mat-button-toggle value="N" style="width: 7.7em; height: 35px;">No
                                        </mat-button-toggle>
                                    </mat-button-toggle-group>
                                </div>
                            </div> -->
                            </div>
                            <!-- Column 2 (Downside)-->

                            <div class="flex-column">
                                <div class="label-row">
                                    <div class="relPosition">
                                        <label class="box-header">Payoff at Maturity</label>
                                    </div>
                                </div>
                                  <!-- Changes done by Apurva K for FIN1EURINT-218|| 25-Apr-2023 -->
                                <div class="row-grid-2">
                                    <!-- Tenor -->
                                    <div class="relPosition">
                                        <label>Settlement In</label>
                                    </div>
                                    <div class="relPosition">
                                        <select [(ngModel)]="SettlementMethod" (change)="this.reset();" tabindex="32" 
                                        *ngIf="settlementMethodDropdown?.length <= 0 || settlementMethodDropdown[0]==''" class="ip-border">

                                                <option *ngFor="let s of SettlementMethodArr"
                                                    (selected)="s.Value === SettlementMethod" [value]="s.Value">
                                                    {{ s.Key }}</option>
                                        </select>
                                        <select [(ngModel)]="SettlementMethod" (change)="this.reset();" tabindex="15"
                                            [disabled]="settlementMethodYN =='N' " 
                                            *ngIf="settlementMethodDropdown?.length > 0 && settlementMethodDropdown[0]!=''">
                                            <option *ngFor="let s of settlementMethodDropdown" (selected)="s === SettlementMethod"
                                                [value]="s">
                                                {{ s }}</option>
                                        </select>

                                    </div>
                                </div>
                                
                                <div class="row-grid-2">
                                    <!-- Type -->
                                    <div class="relPosition">
                                        <label>Protection Type</label>
                                    </div>
                                    <div class="div-flex relPosition">
                                        <select name="" [(ngModel)]="barrierType" tabindex="33" (change)="barrierTypeChange()"
                                        *ngIf="barrierTypeDropdown?.length <= 0 || barrierTypeDropdown[0]==''" class="ip-border">
                                                <!-- <option value=""></option> -->
                                                <option *ngFor="let p of ProtectionType"
                                                    (selected)="p.Value === barrierType" [value]="p.Value">
                                                    {{ p.Key }}</option>
                                                <!-- <option value=""></option>
                                            <option selected="selected" value="European (Maturity)">European (Maturity)
                                            </option>
                                            <option value="American Daily Close">American Daily Close</option>
                                            <option value="American Intraday">American Intraday</option>
                                            <option value="Capital Protected">Capital Protected</option>
                                            <option value="Geared Put">Geared Put</option>
                                            <option value="Ungeared Put">Ungeared Put</option>
                                            <option value="Put Spread">Put Spread</option>
                                            <option value="Yearly Barrier">Yearly Barrier</option>
                                            <option value="Semiannual Barrier">Semiannual Barrier</option>
                                            <option value="Quarterly Barrier">Quarterly Barrier</option>
                                            <option value="Monthly Barrier">Monthly Barrier</option>
                                            <option value="None">None</option> -->
                                        </select>
                                        <select name="" [(ngModel)]="barrierType"
                                            [disabled]="protectionTypeYN=='N'" *ngIf="barrierTypeDropdown?.length > 0 && barrierTypeDropdown[0]!=''">
                                            <option *ngFor="let p of barrierTypeDropdown" (selected)="p === barrierType"
                                                [value]="p">
                                                {{ p }}
                                            </option>
                                        </select>
                                        <!-- <img src="{{asseturl}}information.png" class="info">
                                        <div class="infodiv">
                                            <span class="infoNote rightinfoNote" *ngIf="barrierType === 'None'">
                                                There is no barrier, meaning the put is always activated.
                                            </span>
                                            <span class="infoNote rightinfoNote" *ngIf="barrierType === 'At Expiry'"
                                                style="white-space: initial;width: 260px;">
                                                The underlyings are observed against the Barrier Level only on the Close
                                                Value for
                                                the Final Observation Date of the Product.
                                            </span>
                                            <span class="infoNote rightinfoNote" *ngIf="barrierType === 'Daily'"
                                                style="white-space: initial;width: 260px;">
                                                The underlyings are observed against the Barrier only on the Close Value
                                                every day
                                                over the life of the product.
                                            </span>
                                            <span class="infoNote rightinfoNote" *ngIf="barrierType === 'Continuous'"
                                                style="white-space: initial;width: 260px;">
                                                The underlyings are observed against the Barrier Level continuously over the
                                                life of
                                                the product.
                                            </span>
                                        </div> -->
                                    </div>
                                </div>
                                <div class="row-grid-2">

                                    <!-- Added By ApurvaK Start -->
                                    <div *ngIf="this.ProtectionFlag == true" class="relPosition">
                                        <label>{{ "Frequency" | translate }}</label>
                                        <select tabindex="34">
                                                <option>Monthly</option>
                                                <option>Quarterly</option>
                                                <option>Semiannually</option>
                                                <option>Yearly</option>
                                            </select>
                                    </div>
                                    <!-- Added By ApurvaK End -->

                                    <!-- Put Strike (%) -->
                                    <div class="relPosition">
                                        <label class="disabledlbl" *ngIf="this.SolveForvalue === 'Strike' && barrierType !== '' && this.barrierType !== 'Capital Protected' && this.barrierType !== 'Put Spread'">Put
                                                Strike
                                                (%)</label><label *ngIf="this.SolveForvalue !== 'Strike' && barrierType !== '' && this.barrierType !== 'Capital Protected' && this.barrierType !== 'Put Spread'">Put
                                                Strike
                                                (%)</label>
                                        <label *ngIf="this.barrierType === 'Capital Protected'">Protection Level
                                                (%)</label>
                                        <label *ngIf="this.barrierType === 'Put Spread'">Upper Put Strike
                                                (%)</label>
                                    </div>
                                    <div class="relPosition">
                                        <input type="text" [(ngModel)]="Strike" id="txtStrike" maxlength="8" (blur)="this.Strike = commonfunctions.setDecimal($event);PriceValidation($event,'Strike');strikeChange();" (keypress)="commonfunctions.InputNumber($event)" tabindex="35" *ngIf="barrierType !== '' && this.barrierType !== 'Capital Protected' && this.barrierType !== 'Put Spread'"
                                            [disabled]="this.SolveForvalue === 'PutStrike' || this.SolveForvalue === 'Strike'">
                                        <input type="text" [(ngModel)]="ProtectionLevel" id="txtProtectionLevel" maxlength="8" (blur)="this.ProtectionLevel = commonfunctions.setDecimal($event);" (keypress)="commonfunctions.InputNumber($event)" *ngIf="this.barrierType === 'Capital Protected'"
                                            tabindex="35">
                                        <input type="text" [(ngModel)]="upperPutStrike" id="txtupperPutStrike" maxlength="8" (blur)="this.upperPutStrike = commonfunctions.setDecimal($event);" (keypress)="commonfunctions.InputNumber($event)" *ngIf="this.barrierType === 'Put Spread'" tabindex="35"
                                            [disabled]="this.SolveForvalue === 'UpperPutStrike'">
                                    </div>
                                </div>

                                <!-- Commented by Apurva K || 30 APR 2022|| Asked by Priya L, Abhilash B -->
                                <!-- <div class="row-grid-2">
                                        Put Gearing / Lower Put Spread
                                        <div style="position:relative;">
                                            <label
                                                *ngIf="this.barrierType !== 'None'  && barrierType !== '' && this.barrierType !== 'Capital Protected' && this.barrierType !== 'Put Spread'"><span>Put
                                                    Gearing (%)</span></label>
                                            <label *ngIf="this.barrierType === 'Put Spread'"><span>Lower Put Strike
                                                    (%)</span></label>
                                        </div>
                                        <div style="position:relative;">
                                            <mat-button-toggle-group [(ngModel)]="LeverageYN" tabindex="25"
                                                (change)="strikeChange()"
                                                *ngIf="this.barrierType !== 'None'  && barrierType !== '' && this.barrierType !== 'Capital Protected' 
                                            && this.barrierType !== 'Put Spread' && this.Strike !== '100' && this.Strike !=='100.00'">
                                                <mat-button-toggle value="Yes">Yes
                                                </mat-button-toggle>
                                                <mat-button-toggle value="No">No
                                                </mat-button-toggle>
                                            </mat-button-toggle-group>
                                            <input type="text" [(ngModel)]="leverage" id="txtleverage" maxlength="8"
                                                [ngClass]="(this.Strike !== '100' && this.Strike !=='100.00') ? 'smallInputText' : ''"
                                                (blur)="this.leverage = commonfunctions.setDecimal($event);"
                                                tabindex="26"
                                                *ngIf="this.barrierType !== 'None'  && barrierType !== '' && this.barrierType !== 'Capital Protected' && this.barrierType !== 'Put Spread'"
                                                [disabled]="enabledisablefields('PutGearring') || LeverageYN==='No'">
                                            <input type="text" [(ngModel)]="lowerPutStrike" id="txtlowerPutStrike"
                                                maxlength="8"
                                                (blur)="this.lowerPutStrike = commonfunctions.setDecimal($event);"
                                                (keypress)="commonfunctions.InputNumber($event)" tabindex="26"
                                                *ngIf="this.barrierType === 'Put Spread'"
                                                [disabled]="this.SolveForvalue === 'LowerPutStrike'">
                                        </div>
                                    </div> -->
                                <div class="row-grid-2">
                                    <!-- KI Barrier / Put Spread Gearing -->
                                    <div class="relPosition">
                                        <label class="disabledlbl" *ngIf="showhideKIBarrier() && this.SolveForvalue === 'KI'"><span>KI
                                                    Barrier
                                                    (%)</span></label>

                                        <label *ngIf="showhideKIBarrier()  && this.SolveForvalue !== 'KI'"><span>KI
                                                    Barrier
                                                    (%)</span></label>
                                        <label *ngIf="this.barrierType === 'Put Spread'"><span>Put Spread Gearing
                                                    (%)</span></label>
                                    </div>
                                    <div class="relPosition">
                                        <input type="text" [(ngModel)]="barrierLevel" id="txtKI" maxlength="8" *ngIf="showhideKIBarrier()" tabindex="36" (blur)="this.barrierLevel = commonfunctions.setDecimal($event);PriceValidation($event,'BarrierLevel');" (keypress)="commonfunctions.InputNumber($event)"
                                            [disabled]="this.SolveForvalue === 'KI'">
                                        <input type="text" [(ngModel)]="putSpreadGearing" id="txtputSpreadGearing" maxlength="8" (blur)="this.putSpreadGearing = commonfunctions.setDecimal($event);" tabindex="36" (keypress)="commonfunctions.InputNumber($event)" *ngIf="this.barrierType === 'Put Spread'"
                                            disabled>
                                    </div>
                                </div>
                            </div>

                        </div>

                    </div>

                </div>


                <div class="row-grid rwGridPadding">

                    <!--Left Column-->
                    <div class="relPosition">
                        <div class="row-grid-inner">
                            <!-- Column 1 (Dates) -->

                            <div class="flex-column">
                                <div class="label-row">
                                    <div class="relPosition">
                                        <label class="box-header">{{ "Dates" | translate }}</label>
                                    </div>
                                </div>
                                <div class="row-grid-2">
                                    <!--Strike Shifter/Date-->
                                    <div class="dvStkDate">
                                        <label>Strike Shifter/Date</label>
                                    </div>
                                    <div class="div-flex-date error-date-2 relPosition">
                                        <div class="Btn_priips">
                                            <div class="btngroup">
                                                <!-- Change for Tdy to TOD && Fwd to FWD || VarshaG || 21-03-2023 -->
                                                <!-- Changes done by Sudarshan P/Apurva K || 06-Jun-2023|| FIN1EURINT-435  -->
                                                <button tabindex="11" class="Btn" [ngClass]="stkshift === '0B' ? 'Btn_Yes' : 'Btn_No' " [(ngModel)]="stkshiftTdy" ngDefaultControl (click)="Setstkshiftvalue(stkshiftTdy);this.reset();changeStkShiftToggle();txtTenorDateChange('Payment');">TOD</button>
                                                <button tabindex="11" class="Btn" [ngClass]="stkshift === '0B' ? 'Btn_No' : 'Btn_Yes' " [(ngModel)]="stkshiftFwd" ngDefaultControl (click)="Setstkshiftvalue(stkshiftFwd);this.reset();changeStkShiftToggle()">FWD</button>
                                            </div>
                                            <!-- <mat-button-toggle-group [(ngModel)]="stkshift" tabindex="13"
                                                    style="width: auto; height: 35px;"
                                                    (change)="this.reset();changeStkShiftToggle()">
                                                    <mat-button-toggle value="0B" style="width: 40px;">Tdy
                                                    </mat-button-toggle>
                                                    <mat-button-toggle value="Fwd" style="width: 40px;">Fwd
                                                    </mat-button-toggle>
                                                </mat-button-toggle-group> -->
                                                <!-- <input type="text" name="" class="tenorBox" maxlength="4" tabindex="9"
                                            (blur)="txtTenorChange($event,'Strike');"
                                            (keypress)="this.commonfunctions.tenorDateValidation($event);" [(ngModel)]="stkshift">/ -->
                                            <div class="dateLabel" *ngIf="stkshift === 'Fwd'">
                                                <input type="date" [(ngModel)]="stkdate" id="txtstkdate" tabindex="11" value="{{stkdate}}" (change)="this.reset();" min="{{todayDate}}" (blur)="txtTenorDateChange('Payment');">
                                                <span class="spnstkdate" id="stkdate">{{ stkdate | date: "dd-MMM-yyyy" }}</span>
                                            </div>   
                                    </div>
                                
                                    <!-- <input type="date" [(ngModel)]="stkdate" id="txtstkdate" tabindex="14" value="{{stkdate}}" (change)="this.reset();" min="{{todayDate}}" (blur)="txtTenorDateChange('Payment');" *ngIf="stkshift === 'Fwd'" style="margin-left: 4px  !important; width: 117px !important;max-width: 117px !important;min-width: 117px !important;"> -->
                                    <!-- <img src="{{asseturl}}information.png" class="info">
                                    <div class="infodiv">
                                        <span class="infoNote" style="white-space: initial;width: 260px;">
                                            Number of days you want to shift the Strike Forward from Today. For
                                            Strike
                                            today (or
                                            next business day in case today is holiday), please input 0b.
                                        </span>
                                    </div> -->
                                    </div>
                                </div>
                                <div class="row-grid-2">
                                    <!-- Payment Shifter/Date -->
                                    <div class="dvStkDate">
                                        <label>{{ "Issue Date Offset" | translate }}</label>
                                    </div>
                                    <div class="div-flex-date error-date-2 relPosition">
                                        <select [(ngModel)]="paymentshift" class="YNbox1 YNboxWidth" tabindex="12" (change)="this.reset();" 
                                        (blur)="txtTenorDateChange('Payment');txtTenorDateChange('Expiry');" class="ip-border"
                                        *ngIf="issueDateDropdown?.length <= 0 || issueDateDropdown[0]==''">
                                                <!-- <option value="5B">T+5</option>
                                        <option value="10B">T+10</option>
                                        <option value="Custom">Custom</option> -->
                                                <option *ngFor="let d of IssueDateOffset"
                                                    (selected)="d.Value === paymentshift" [value]="d.Value">
                                                    {{ d.Key }}</option>
                                        </select>
                                        <select [(ngModel)]="paymentshift" class="YNbox1 YNboxWidth" (change)="this.reset();"
                                            [disabled]="issueDateOffsetYN =='N'" *ngIf="issueDateDropdown?.length > 0 && issueDateDropdown[0]!=''">
                                            <option *ngFor="let d of issueDateDropdown" (selected)="d === paymentshift" [value]="d">
                                                {{ d }}</option>
                                        </select>
                                        <!-- <input type="text" name="" class="tenorBox" maxlength="4" tabindex="10"
                                        (keypress)="this.commonfunctions.tenorDateValidation($event);"
                                        (blur)="txtTenorChange($event,'Payment');" [(ngModel)]="paymentshift">/ -->
                                        <!-- <input type="date" [(ngModel)]="settdate" value="{{settdate}}" tabindex="16" id="txtsettdate" (change)="this.reset();" (blur)="txtTenorDateChange('Payment');txtTenorDateChange('Expiry');" *ngIf="paymentshift === 'Custom'" style="margin-left: 4px !important; width: 117px !important;max-width: 117px !important;min-width: 117px !important;"> -->
                                        
                                        <div class="dateLabel" id="customOffset" *ngIf="paymentshift === 'Custom'"><!--Min value changed from 1 to 0 as suggested by Nitish K|| Varsha G ||FIN1EURINT-604|| 04-Sep-2023 -->
                                            <input type="number" name="settdate" id="settdate" min="0" max="99" oninput="validity.valid||(value='');" [(ngModel)]="customSetDate" tabindex="13" id="txtsettdate" (change)="this.reset();" (blur)="txtTenorDateChange('Expiry');txtTenorDateChange('Payment');">
                                            <span id="settdateLabel">T + </span>
                                        </div>
                                        
                                        <!-- <img src="{{asseturl}}information.png" class="info">
                                            <div class="infodiv">
                                                <span class="infoNote" style="white-space: initial;width: 260px;">
                                                    Number of days you want to shift the Payment Forward from Strike
                                                    Date.
                                                </span>
                                            </div> -->
                                    </div>
                                </div>
                                <div class="row-grid-2">
                                    <!-- Tenor -->
                                    <div class="relPosition">
                                        <label>{{ "Tenor" | translate }}</label>
                                    </div>
                                    <div class="div-flex-date">
                                        <!-- added blur event to calculate expiry date || PriyaL || 07Apr2022 || Assigned by Pranav D -->
                                        <select [(ngModel)]="expshift" class="YNbox1 ip-border ScrollCss tnorYNbox1" tabindex="14" 
                                        (blur)="txtTenorChange($event,'Expiry');" (change)="this.reset();autocallfreqbasedonTenor();customTenor = ''"
                                        *ngIf="TenorDropdown?.length <= 0 || TenorDropdown[0]==''">
                                                <!-- <option value="1M">1M</option>
                                        <option value="3M">3M</option>
                                        <option value="6M">6M</option>
                                        <option value="9M">9M</option>
                                        <option value="1Y">1Y</option>
                                        <option value="15M">15M</option>
                                        <option value="18M">18M</option>
                                        <option value="2Y">2Y</option>
                                        <option value="2.5Y">2.5Y</option>
                                        <option value="3Y">3Y</option>
                                        <option value="3.5Y">3.5Y</option>
                                        <option value="4Y">4Y</option>
                                        <option value="4.5Y">4.5Y</option>
                                        <option value="5Y">5Y</option>
                                        <option value="7Y">7Y</option>
                                        <option value="6Y">6Y</option>
                                        <option value="6.5Y">6.5Y</option>
                                        <option value="7Y">7Y</option>
                                        <option value="7.5Y">7.5Y</option>
                                        <option value="8Y">8Y</option>
                                        <option value="8.5Y">8.5Y</option>
                                        <option value="9Y">9Y</option>
                                        <option value="9.5Y">9.5Y</option>
                                        <option value="10Y">10Y</option>
                                        <option value="Custom">Custom</option> -->
                                                <option *ngFor="let t of Tenor" (selected)="t.Value === expshift"
                                                    [value]="t.Value">
                                                    {{ t.Key }}</option>
                                        </select>
                                        <select [(ngModel)]="expshift" class="YNbox1 YNboxWidth" tabindex="15"
                                            (change)="this.reset();" [disabled]="TenorYN=='N' "
                                            *ngIf="TenorDropdown?.length > 0 && TenorDropdown[0]!=''">
                                            <option *ngFor="let t of TenorDropdown" (selected)="t === expshift" [value]="t">
                                                {{ t }}</option>
                                        </select>

                                        <input type="text" name="" maxlength="4" *ngIf="expshift === 'Custom'" [(ngModel)]="customTenor" tabindex="15" (blur)="this.reset();autocallfreqbasedonTenor();CustomerTenorChange('Expiry');" (keypress)="commonfunctions.customTenorValidation($event, customTenor)" class="ipCustomTenor">
                                        <!--(keypress)="commonfunctions.TenorValidation($event)"
                                        (blur)="txtTenorChange($event,'Expiry');changeAutoFreqOnTenor()" -->
                                        <!-- <input type="date" [(ngModel)]="expdate" tabindex="12" value="{{expdate}}" id="txtexpdate"
                      (change)="this.reset();" disabled> -->
                                        <!-- <img src="{{asseturl}}information.png" class="info">
                                            <div class="infodiv">
                                                <span class="infoNote" style="white-space: initial;width: 260px;">
                                                    In case you require the exact Maturity or Final Observation Date,
                                                    please do
                                                    not
                                                    hesitate to request a
                                                    Termsheet.
                                                </span>
                                            </div> -->
                                    </div>
                                </div>
                            </div>
                             <!-- Regulatory -->
                            <div class="flex-column">
                                <div class="row-grid-inner">
                                    <div class="label-row">
                                        <label class="box-header">{{ "Regulatory" | translate }}</label>
                                    </div>
                                </div>
                                <!-- <div class="row-grid-inner">
                                    <div class="flex-column"> -->
                                        <div class="row-grid-2">
                                            <!--Priips-->
                                            <div class="relPosition">
                                                <label>{{ "Priips" | translate }}</label>
        
                                            </div>
                                            <div class="relPosition">
                                                <!-- <div class="btngroup">
                                                    <button [(ngModel)]="priipsYN" tabindex="10" (change)="priipsChanged()" [disabled]="enabledisablefields('Priips')" class="Btn Btn_Yes" [(ngModel)]="quanto" disabled (change)="this.reset();">Yes</button>
                                                    <button [(ngModel)]="priipsYN" tabindex="10" (change)="priipsChanged()" [disabled]="enabledisablefields('Priips')" class="Btn Btn_No" [(ngModel)]="quanto" disabled (change)="this.reset();">No</button>
                                                </div> -->
                                                <div class="btngroup">
                                                    <button  [ngClass]="priipsYN==='Yes'?'Btn_Yes':'Btn_No'" (click)=" priipsChanged('Yes')" class="Btn">Yes</button>
                                                    <button  [ngClass]="priipsYN==='No'?'Btn_Yes':'Btn_No'"  (click)=" priipsChanged('No')" class="Btn">No</button>
                                                </div>
        
                                                <!-- <mat-button-toggle-group [(ngModel)]="priipsYN" tabindex="10"
                                                        (change)="priipsChanged()" [disabled]="enabledisablefields('Priips')">
                                                        <mat-button-toggle value="Yes" style="width: 7.7em; height: 35px;">Yes
                                                        </mat-button-toggle>
                                                        <mat-button-toggle value="No" style="width: 7.7em; height: 35px;">No
                                                        </mat-button-toggle>
                                                    </mat-button-toggle-group> -->
                                            </div>
                                        </div>
                                        <!-- <Start> Vaibhav B | 20-01-2023 | MultiSelect Dropdown changes in 1Europe | Assigned by Pranav D -->
                                        <div class="row-grid-2" *ngIf="priipsYN === 'Yes'">
                                            <!--Language-->
                                            <div class="relPosition">
                                                <label *ngIf="priipsYN === 'Yes'">{{ "Language" | translate }}</label>
        
                                            </div>
                                            <div class="relPosition">
        
                                                <!-- <mat-select [formControl]="languageSel" *ngIf="priipsYN === 'Yes'"
                                                        (selectionChange)="this.reset();removeErrorPopup($event)"
                                                        [(ngModel)]="language" multiple tabindex="12"
                                                        [disableOptionCentering]="true" id="ddllanguage"
                                                        (click)="positionDropdown()">
                                                        (change)="this.reset();removeErrorPopup($event)"
        
                                                        <mat-option [value]="0" (click)="toggleAllSelection()">All</mat-option>
                                                        <app-select-all-option [control]="languageSel" [values]="LanguageArr">
                                                        </app-select-all-option>
                                                        <mat-option *ngFor="let l of LanguageArr1" [value]="l.Value">{{l.Key}}
                                                        </mat-option>
                                                    </mat-select> -->
        
        
                                                <!-- Custom Multi Dropdown  -->
                                                <app-custom-dropdown-multi-select  [tabIdx]="'16'" [pricerType]="'single'" [options]="LanguageArr1" 
                                                *ngIf="languageDropdown1?.length <= 0 || languageDropdown1[0]==''" [(ngModel)]="language" [disabled]="enabledisablefields('Language')">
                                                </app-custom-dropdown-multi-select>
        
        
                                                <app-custom-dropdown-multi-select [pricerType]="'single'" [options]="languageDropdown1" [(ngModel)]="language"
                                                *ngIf="languageDropdown1?.length > 0 && languageDropdown1[0]!=''" [disabled]="languageYN==='N'">
                                                </app-custom-dropdown-multi-select>
                                                <!-- <select id="ddllanguage" *ngIf="priipsYN === 'Yes'" [(ngModel)]="language" tabindex="11">
        
                                        
                                                <option value="Czech">Czech</option>
                                                <option value="Dutch">Dutch</option>
                                                <option value="English">English</option>
                                                <option value="Czechia">Czechia</option>
                                                <option value="Finnish">Finnish</option>
                                                <option value="French">French</option>
                                                <option value="Galician">Galician</option>
                                                <option value="Greece">Greece</option>
                                                <option value="Guernsey">Guernsey</option>
                                                <option value="German">German</option>
                                                <option value="Greek">Greek</option>
                                                <option value="Italy">Italy</option>
                                                <option value="Hungarian">Hungarian</option>
                                                <option value="Italian">Italian</option>
                                                <option value="Norwegian">Norwegian</option>
                                                <option value="Polish">Polish</option>
                                                <option value="Portuguese">Portuguese</option>
                                                <option value="Russian">Russian</option>
                                                <option value="Spanish">Spanish</option>
                                                <option value="Switzerland">Swedish</option>
                                            </select> -->
                                            </div>
                                        </div>
                                    <!-- </div> -->
                                    <!-- <div class="flex-column"> -->
                                        <div class="row-grid-2" *ngIf="priipsYN === 'Yes'">
                                            <!--Country-->
                                            <div class="relPosition">
                                                <label *ngIf="priipsYN === 'Yes'">{{ "Country" | translate }}</label>
                                            </div>
                                            <div class="relPosition">
        
                                                <!-- <mat-select [formControl]="countrySel" *ngIf="priipsYN === 'Yes'"
                                                        [(ngModel)]="country"
                                                        (selectionChange)="this.reset();removeErrorPopup($event)" tabindex="10"
                                                        multiple [disableOptionCentering]="true" id="ddlcountry"
                                                        (click)="positionDropdown()">
                                                        (change)="this.reset();removeErrorPopup($event)"  -->
                                                <!-- <mat-option [value]="0" (click)="toggleAllSelection()">All</mat-option>
                                                        <app-select-all-option [control]="countrySel" [values]="countryArr">
                                                        </app-select-all-option>
                                                        <mat-option *ngFor="let c of CountryofDistribution" [value]="c.Value">
                                                            {{c.Key}}
                                                        </mat-option>
                                                    </mat-select> -->
        
                                                <app-custom-dropdown-multi-select [tabIdx]="'17'" [pricerType]="'single'" [options]="CountryofDistribution" 
                                                *ngIf="countryDropdown1?.length <= 0 || countryDropdown1[0]==''"
                                                [(ngModel)]="country" [disabled]="enabledisablefields('Country')">
                                                </app-custom-dropdown-multi-select>

                                                <app-custom-dropdown-multi-select [pricerType]="'single'" [options]="countryDropdown1" [(ngModel)]="country"
                                                *ngIf="countryDropdown1?.length > 0 && countryDropdown1[0]!=''" [disabled]="countryYN==='N'">
                                                </app-custom-dropdown-multi-select>
        
                                            </div>
                                            <!-- <End> Vaibhav B | 20-01-2023 | MultiSelect Dropdown changes in 1Europe | Assigned by Pranav D -->
                                        </div>
                                        <div class="row-grid-2">
                                            <!--Termsheet-->
                                            <!--Commented by Varsha G as suggested by Nitish K || 06-Jul-2023-->
                                            <!-- <div style="position:relative;">
                                                <label>Termsheet</label>
                                            </div>
                                            <div style="position:relative;">
                                                <select [(ngModel)]="termsheetType" tabindex="18" id="ddltermsheet" (change)="this.reset();" [disabled]="enabledisablefields('Termsheet')" class="ip-border"> -->
                                                        <!-- <option value="Standard">Standard</option>
                                                <option value="EIS">EIS</option>
                                                <option value="SSP">SSP</option>
                                                <option value="SSS UK RND">SSP UK RND</option>
                                                <option value="UK RND">UK RND</option> -->
                                                        <!-- <option *ngFor="let t of Termsheets"
                                                            (selected)="t.Value === termsheetType" [value]="t.Value">
                                                            {{ t.Key }}</option>
                                                    </select>
                                            </div> -->
                                        </div>
                                    <!-- </div> -->
                                <!-- </div> -->
                            </div>
                        </div>
                            <!-- Column 2 (Funding) -->

                            <div [ngClass]="format === 'Swap' ? 'flex-column' : 'hideFundingsDiv'">
                                <div class="label-row" *ngIf="format === 'Swap'">
                                    <div class="relPosition">
                                        <label class="box-header" *ngIf="format === 'Swap'">{{ "Funding" | translate }}</label><!--Varsha-->
                                    </div>
                                </div>
                                <div class="row-grid-2">
                                    <!-- Type -->
                                    <div class="relPosition">
                                        <label *ngIf="format === 'Swap'">{{ "Type" | translate }}</label>
                                    </div>
                                    <div class="relPosition">
                                        <select *ngIf="format === 'Swap'" [(ngModel)]="fundType" tabindex="37" (change)="this.reset();" class="ip-border">
                                                <option value="Fixed Rate">Fixed
                                                    Rate</option>
                                                <option value="Floating Rate">
                                                    Floating Rate</option>

                                            </select>
                                    </div>
                                </div>
                                <div class="row-grid-2">
                                    <!-- Frequency -->
                                    <div class="relPosition">
                                        <label *ngIf="format === 'Swap'">{{ "Frequency" | translate }}</label>
                                    </div>
                                    <div class="relPosition">
                                        <select name="" [(ngModel)]="fundFreq" *ngIf="format === 'Swap'" [(ngModel)]="fundFreq" tabindex="38" (change)="this.reset();" class="ip-border">
                                                <!-- <option value="1m">1m</option>
                                        <option value="3m"
                                            *ngIf="autoFreq === '3m' || autoFreq === '6m' || autoFreq === '12m'">
                                            3m</option>
                                        <option value="6m" *ngIf="autoFreq === '6m' || autoFreq === '12m'">6m</option>
                                        <option value="12m" *ngIf="autoFreq === '12m'">12m</option> -->
                                                <option *ngFor="let s of SwapFloatingReference"
                                                    (selected)="s.Value === fundFreq" [value]="s.Value">
                                                    {{ s.Key }}</option>
                                            </select>
                                    </div>

                                </div>
                                <div class="row-grid-2">
                                    <!-- Rate/Spread  -->
                                    <div class="dvStkDate">

                                        <label class="disabledlbl" *ngIf="format === 'Swap' && this.SolveForvalue === 'FundingRate'">Rate/Spread
                                                (%)</label><label *ngIf="format === 'Swap' && this.SolveForvalue !== 'FundingRate'">Rate/Spread
                                                (%)</label>
                                    </div>
                                    <div class="div-flex relPosition">
                                        <!-- this.fundRate = commonfunctions.setDecimal($event);  -->
                                        <input type="text" *ngIf="format === 'Swap'" tabindex="39" [(ngModel)]="fundRate" id="txtFundingRate" maxlength="100" (blur)="this.reset();this.fundRate = commonfunctions.setDecimal($event);" (keypress)="commonfunctions.InputSpread($event)" [disabled]="this.SolveForvalue === 'Spread' || this.SolveForvalue === 'FundingRate'">
                                        <span (clickOutside)="onClickedOutside('fundRate')">
                                                <img src="{{asseturl}}information.png" class="info"
                                                    *ngIf="format === 'Swap' && fundRate !==''"
                                                    (click)="GetTriggerValue('fundRate')">
                                                <div *ngIf="fundRatePopup" class="triggerTable">

                                                    <table class="tblWidth">
                                                        <tr>
                                                            <th class="hdrWidth">Periods</th>
                                                            <th class="hdrWidth">
                                                                Trigger</th>
                                                        </tr>
                                                        <tr *ngFor="let t of TriggerValueArr; let i = index; "
                                                            class="tblWidth">

                                                            <td class="tdRight hdrWidth">{{t.NoOfPeriods}}
                                                            </td>
                                                            <td class="tdRight hdrWidth"> {{t.OutTrigger |
                                                                number:'1.2-2'}}
                                                            </td>

                                                        </tr>
                                                    </table>
                                                </div>
                                            </span>
                                    </div>
                                </div>
                            </div>
                        
                    </div>

                    <!--Right Column-->
                    <!-- <div style="position:relative;">
                            <div class="row-grid-inner">

                                 <div class="flex-column">
                                    <div class="label-row">
                                        <div style="position:relative;">
                                            <label class="labelHeaders">Upside</label>
                                        </div>
                                    </div>
                                    
                                    <div class="row-grid-2">
                              
                                <div style="position:relative;">
                                    <label *ngIf="ShareBasket.length >= 1">Final Upside</label>
                                    <label class="disabledlbl" *ngIf="ShareBasket.length < 1">Final Upside</label>
                                </div>
                                <div style="position:relative;">
                                    <select name="" [(ngModel)]="upsideType" tabindex="24"
                                        (change)="upsideTypeChange()" [disabled]="ShareBasket.length < 1">
                                       
                                        <ng-container *ngFor="let f of FinalUpside">
                                            <option *ngIf="(f.Value === 'None')
                                            &&  ShareBasket.length > 0" [value]="f.Value">{{f.Key}}</option>
                                            <option *ngIf="(f.Value === 'Call' || f.Value === 'Call Spread' 
                                            || f.Value === 'Twin Win' || f.Value === 'Capped Twin Win')
                                            &&  ShareBasket.length === 1" [value]="f.Value">{{f.Key}}</option>
                                            <option *ngIf="(f.Value === 'Call Equally Weighted' || f.Value === 'Call Worst of' 
                                            || f.Value === 'Call Best of' || f.Value === 'Call Custom Basket')
                                            && ShareBasket.length > 1" [value]="f.Value">{{f.Key}}</option>
                                        </ng-container>


                                    </select>
                                </div>
                            </div>
                                    <div class="row-grid-2">
                                        <div style="position:relative;">
                                            <label
                                                *ngIf="this.upsideType === 'Call' || this.upsideType === 'Twin Win' || this.upsideType === 'Call Equally Weighted' || this.upsideType === 'Call Worst of' || this.upsideType === 'Call Best of' || this.upsideType === 'Call Custom Basket'">Call
                                                Strike (%)</label>
                                            <label
                                                *ngIf="this.upsideType === 'Call Spread' || this.upsideType === 'Capped Twin Win'">Lower
                                                Call Strike (%)</label>
                                        </div>
                                        <div style="position:relative;">
                                            <input type="text" [(ngModel)]="callStrike" id="txtcallStrike" maxlength="8"
                                                (blur)="this.callStrike = commonfunctions.setDecimal($event);"
                                                (keypress)="commonfunctions.InputNumber($event)" tabindex="53"
                                                *ngIf="this.upsideType === 'Call' || this.upsideType === 'Twin Win' 
                                        || this.upsideType === 'Call Equally Weighted' || this.upsideType === 'Call Worst of' 
                                        || this.upsideType === 'Call Best of' || this.upsideType === 'Call Custom Basket'" [disabled]="this.SolveForvalue === 'CallStrike'">
                                            <input type="text" [(ngModel)]="lowerCallStrike" id="txtlowerCallStrike"
                                                maxlength="8"
                                                (blur)="this.lowerCallStrike = commonfunctions.setDecimal($event);"
                                                (keypress)="commonfunctions.InputNumber($event)" tabindex="53"
                                                *ngIf="this.upsideType === 'Call Spread' || this.upsideType === 'Capped Twin Win'"
                                                [disabled]="this.SolveForvalue === 'LowerCallStrike'">
                                        </div>
                                    </div>
                                    <div class="row-grid-2">
                                        <div style="position:relative;">
                                            <label
                                                *ngIf="this.upsideType === 'Call' || this.upsideType === 'Twin Win' || this.upsideType === 'Call Equally Weighted' || this.upsideType === 'Call Worst of' || this.upsideType === 'Call Best of' || this.upsideType === 'Call Custom Basket'">Call
                                                Gearing (%)</label>
                                            <label
                                                *ngIf="this.upsideType === 'Call Spread' || this.upsideType === 'Capped Twin Win'">Upper
                                                Call Strike (%)</label>
                                        </div>
                                        <div style="position:relative;">
                                            <input type="text" [(ngModel)]="callGearing" id="txtcallGearing"
                                                maxlength="8"
                                                (blur)="this.callGearing = commonfunctions.setDecimal($event);"
                                                (keypress)="commonfunctions.InputNumber($event)" tabindex="54"
                                                *ngIf="this.upsideType === 'Call' || this.upsideType === 'Twin Win' || this.upsideType === 'Call Equally Weighted' 
                                        || this.upsideType === 'Call Worst of' || this.upsideType === 'Call Best of' || this.upsideType === 'Call Custom Basket'" tabindex="32"
                                                [disabled]="this.SolveForvalue === 'CallGearing'">
                                            <input type="text" [(ngModel)]="upperCallStrike" id="txtupperCallStrike"
                                                maxlength="8"
                                                (blur)="this.upperCallStrike = commonfunctions.setDecimal($event);"
                                                (keypress)="commonfunctions.InputNumber($event)" tabindex="54"
                                                *ngIf="this.upsideType === 'Call Spread' || this.upsideType === 'Capped Twin Win'"
                                                tabindex="32" [disabled]="this.SolveForvalue === 'UpperCallStrike'">
                                        </div>
                                    </div>
                                    <div class="row-grid-2">
                                        <div style="position:relative;">
                                            <label
                                                *ngIf="this.upsideType === 'Call Spread' || this.upsideType === 'Capped Twin Win'">Call
                                                Spread Gearing (%)</label>
                                        </div>
                                        <div style="position:relative;">
                                            <input type="text" [(ngModel)]="callSpreadGearing" id="txtcallSpreadGearing"
                                                maxlength="8"
                                                (blur)="this.callSpreadGearing = commonfunctions.setDecimal($event);"
                                                (keypress)="commonfunctions.InputNumber($event)" tabindex="55"
                                                *ngIf="this.upsideType === 'Call Spread' || this.upsideType === 'Capped Twin Win'"
                                                tabindex="32" [disabled]="this.SolveForvalue === 'LowerCallGearing'">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div> -->


                </div>

                <!-- viewOnly -->

                <div class="row-button-grid clearPriceDivheight">

                    <!-- Start - Added by Apurva K|| 25-Apr-2023||FIN1EURINT-219 -->
                    <div class="btn-group btn-groupMargin" (clickOutside)="priceoptionflag = false" *ngIf="!this.viewOnly">
                        <button tabindex="40" class="button clearPriceMargin" (click)="this.reset()">Clear Price</button>
                        <!-- ngIf condition added to resolve alignment issue in View functonality in RFQ Blotter -->                        
                        <button type="button" class="button priceAll" tabindex="41" *ngIf="!this.viewOnly" [disabled]="priceBtnActive === 'N' || loadflag" (click)="Price()">
                        
                            <div class="price-with-loader">
                                {{ "Price All" | translate }}
                                <div class="txtAlignCenter" *ngIf="loadflag">
                                    <div class="row priceall-loader loaderbox">
                                        <div class="col-12">
                                            <img src="{{asseturl}}Ajaxloader.gif" alt="" width="100px" class="loadergif">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </button>
                        <!-- <button type="button" (click)="priceOptions()"
                                class="btn btn-split dropdown-toggle dropdown-toggle-split"
                                style="height: 40px !important; font-size: 14px !important;" data-toggle="dropdown"
                                aria-haspopup="true" aria-expanded="false" [disabled]="priceBtnActive === 'N'"
                                *ngIf="!this.viewOnly">
                                <span class="sr-only">Toggle Dropdown</span>
                            </button>
                            <div class="ddl" style="top:45px;" *ngIf="priceoptionflag">
                                <div style="float: left;padding-left: 5px;">
                                    <mat-icon
                                        style="width:25px !important;height:25px !important;margin: 3px 5px 3px 10px;font-size: 24px!important;font-family: 'Material Icons' !important;">
                                        schedule</mat-icon>
                                </div>
                                <div class="btndllList" (click)="showSchedulePopup()">Schedule Price</div>
                            </div> -->
                    </div>
                    
                     <!-- End - Added by Apurva K|| 25-Apr-2023||FIN1EURINT-219 -->

                    <div class="relPosition">

                        <!-- *ngIf=" (this.sortedAllPrices.length > 0 && this.sortedAllPrices[0].Price !== '')|| timeoutMsg==='Timeout' || (orderID!=='' && this.viewOnly)" -->
                        <div class="msgBox msgBoxborder" *ngIf="this.viewOnly && this.sortedAllPrices.length > 0 && this.sortedAllPrices[0].Price !== ''">
                            <div class="row reply-popup reply-popupBox">
                                <!-- Show Min/Max Limit on Reprice action - added by Priya L. on 25-Feb-2022 - assigned by Pranav D. -->
                                <div class="col-12" *ngIf="!this.viewOnly">
                                    <span class="bestreply replyColor">
                                            Best Reply &nbsp;: :
                                        </span>

                                </div>
                                <div class="col-6" *ngIf="this.viewOnly">
                                    <span class="bestreply replyColor">
                                            Reply &nbsp;: :
                                        </span>
                                </div>
                                <div class="col-6 txtAlignRight" *ngIf="this.viewOnly">
                                    <span _ngcontent-bgr-c14="" class="bestreply MinMaxLimit" *ngIf="this.bestLPArray.minLimit !== undefined && this.bestLPArray.maxLimit !== undefined
                                         && this.bestLPArray.minLimit !== '' && this.bestLPArray.maxLimit !== ''">
                                            Min./Max. Limit: {{this.bestLPArray.minLimit | number:'1.2-2'}} /
                                            {{this.bestLPArray.maxLimit | number:'1.2-2'}}</span>
                                </div>
                                <!-- <div class="col-10" style="text-align: right">
            <span class="bestreply">
              <span class="bestPriceStyle" *ngIf="this.sortedAllPrices.length > 0">
                {{replySolveFor}} (%) : &nbsp;
                {{this.sortedAllPrices[0].Price === 'Rejected' || this.sortedAllPrices[0].Price === 'Unsupported' || this.sortedAllPrices[0].Price === 'Expired' || this.sortedAllPrices[0].Price === 'Cancelled' ? this.sortedAllPrices[0].Price :
                this.sortedAllPrices[0].Price | number:'1.2-2'}}
              </span>
            </span>
            <span class="errorMsg" *ngIf="timeoutMsg!==''">
              {{timeoutMsg}}
            </span>
          </div> -->
                            </div>
                            <div class="row reply-popup reply-popupBox">
                                <div class="col-6">
                                    <span class="bestreply">
                                            <span class="bestPriceStyle" *ngIf="this.sortedAllPrices.length > 0">
                                                {{this.sortedAllPrices[0].lp}}
                                            </span>
                                    </span>
                                </div>
                                <div class="col-6">
                                    <span class="bestreply">
                                            <span class="bestPriceStyle" *ngIf="this.sortedAllPrices.length > 0">
                                                {{this.sortedAllPrices[0].Price === 'Rejected' ||
                                                this.sortedAllPrices[0].Price === 'Unsupported' ||
                                                this.sortedAllPrices[0].Price === 'Expired' ||
                                                this.sortedAllPrices[0].Price === 'Cancelled' ||
                                                this.sortedAllPrices[0].Price === '-' ?
                                                this.sortedAllPrices[0].Price :
                                                this.sortedAllPrices[0].Price | number:'1.2-2'}}
                                            </span>
                                    </span>
                                </div>
                            </div>
                        </div>
                        <!-- <div style="text-align: center;" *ngIf="loadflag">
                            <div class="row" style="padding: 0 auto !important;margin: 0;">
                                <div class="col-12">
                                    <img src="{{asseturl}}loading_dots.gif" alt="" width="100px" style="margin-top: -40px;">
                                </div>
                            </div>
                        </div> -->
						<!-- START || Added by SandipA for FIN1EURINT-46 || 11-Apr-2023 -->
                        <!-- <div *ngIf="pageloadflag" class="loading" id="loading">
                            
                            <img src="{{asseturl}}loading_dots.gif" alt="Loading..." class="loadingImg" >
                                
                        </div> -->
                        <!-- END || Added by SandipA for FIN1EURINT-46 || 11-Apr-2023 -->
                        <!-- Loader icon position changed by AdilP FIN1EURINT-506 || 05-07-2023 ||START -->
                        <div class="pageload-overlay" *ngIf="pageloadflag">
                        <div>
                            <svg version="1.1" id="L4" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"
                        y="0px" [ngStyle]="{ width:  + '25px', height:  + '25px' }"
                        class="pageLoadSvg" viewBox="0 0 100 100" enable-background="new 0 0 0 0"
                        xml:space="preserve">
                        <circle stroke="#a1a1a1" cx="55" cy="23" r="1.4" stroke-width="0.1" fill="var(--icon-active-bg)">
                            <animate attributeName="opacity" dur="2s" values="0;1;0" repeatCount="indefinite" begin="0.1" />
                        </circle>
                        <circle stroke="#a1a1a1" cx="55" cy="23" r="1.5" stroke-width="0.1" fill="var(--icon-active-bg)">
                            <animate attributeName="opacity" dur="2s" values="0;1;0" repeatCount="indefinite" begin="0.1" />
                        </circle>
                        </svg>
                        </div>
                    </div>
                     <!-- Loader icon position changed by AdilP FIN1EURINT-506 || 05-07-2023 ||END -->
                    
                    </div>
                    <div class="ViewModebtn">
                        <!-- <button class="button" *ngIf="this.viewOnly" (click)="cloneSinglePricer()"
                                style="pointer-events: all;">Clone</button> -->


                        <!-- <button class="button" (click)="Price()" tabindex="35" *ngIf="!this.viewOnly">Price</button> "-->
                        
                        <!--Added by Apurva K|| 25-Apr-2023||FIN1EURINT-219 -->
                        <button class="button btnPointer" *ngIf=" (this.viewOnly)" (click)="PriceLP(RepriceIssuer);postBackMethod()" [disabled]="sendtoCptyBookOrder">{{ "Reprice" | translate }}</button>
                        <!-- Modified css to show cursor pointer || PriyaL || 12Apr2022 || Assigned by Pranav D.  -->
                        <button class="button btnPointer" *ngIf=" this.viewOnly && this.sortedAllPrices.length > 0 && this.sortedAllPrices[0].Price!==''
        && sortedAllPrices[0].Price !== '-' && sortedAllPrices[0].Price !=='Timeout' && sortedAllPrices[0].Price > 0 && !sendtocptyflag" (click)="emailQuote(sortedAllPrices[0].rfq)">{{ "Mail best Quote" | translate }}</button>
                        <!-- <button class="button" *ngIf=" (this.viewOnly)"
                            (click)="lauchProduct(this.sortedAllPrices[0])" style="pointer-events: all;height: 35px !important;">Launch
                            Product</button> -->
                            <!-- Quote status check added by Jyoti S || FIN1EURINT-576 || 08-Aug-2023 || START -->
                            <button class="button btnPointer"  tabindex="44" (click)="RequestTermsheet();postBackMethod();" *ngIf="(this.viewOnly && this.sortedAllPrices.length > 0 && !this.sortedAllPrices[0].TSFlag && !sendtocptyflag && (orderStatus == 'Active' || orderStatus == 'Pending Reprice' || orderStatus == 'Order Placed' || orderStatus == 'Pool Created'))" [disabled]="!(docSupportStatus[this.sortedAllPrices[0].lp]?.['Indicative_Termsheet'] === 'Y') || this.sortedAllPrices[0].TSDisableFlag" >
                                <div class="price-with-loader priceLoader" >
                                    Request TS
                                    <div class="txtAlignCenter" *ngIf="this.sortedAllPrices[0].TSLoadFlag">
                                        <img src="{{asseturl}}Ajaxloader.gif" alt="" width="100px" class="ReqLoader"> 
                                    </div>
                                </div>
                                </button> <!-- Changed by Jyoti S || 31-May-2023 -->
                                <button id="btnViewTS" class="btnPointer"  [ngClass]="this.sortedAllPrices[0].TSFlag ? 'button viewButton' : 'button'" tabindex="45" (click)="ViewTermsheet()" *ngIf="(this.viewOnly && this.sortedAllPrices.length && this.sortedAllPrices[0].TSFlag && !sendtocptyflag && (orderStatus == 'Active' || orderStatus == 'Pending Reprice' || orderStatus == 'Expired' || orderStatus == 'Order Placed' || orderStatus == 'Pool Created'))">
                                    <div class="price-with-loader priceLoader" >
                                        View TS
                                        <div class="txtAlignCenter" *ngIf="this.sortedAllPrices[0].ViewTSFlag">
                                            <img src="{{asseturl}}Ajaxloader.gif" alt="" width="100px" class="ReqLoader"> 
                                        </div>
                                    </div></button><!-- Changed by Jyoti S || 31-May-2023 -->

                                    <button class="button btnPointer" tabindex="46" (click)="RequestKIDonView()"  [disabled]="priipsYN === 'No'" *ngIf="(this.viewOnly && this.sortedAllPrices.length && !this.sortedAllPrices[0].KIDFlag && !sendtocptyflag && (orderStatus == 'Active' || orderStatus == 'Pending Reprice' || orderStatus == 'Order Placed' || orderStatus == 'Pool Created'))" [disabled]="!(docSupportStatus[this.sortedAllPrices[0].lp]?.['KID'] === 'Y') || this.sortedAllPrices[0].KIDDisableFlag">
                                        <div class="price-with-loader priceLoader" >
                                            Request KID
                                            <div class="txtAlignCenter" *ngIf="this.sortedAllPrices[0].KIDLoadFlag">
                                                <img src="{{asseturl}}Ajaxloader.gif" alt="" width="100px" class="ReqLoader"> 
                                            </div>
                                        </div>
                                        </button><!-- Changed by Jyoti S || 31-May-2023 -->
                                        <button id="btnViewTS" class="btnPointer" [ngClass]="this.sortedAllPrices[0].KIDFlag ? 'button viewButton' : 'button'"  tabindex="47" (click)="ViewKIDonView()" *ngIf="(this.viewOnly && this.sortedAllPrices.length && this.sortedAllPrices[0].KIDFlag && !sendtocptyflag && (orderStatus == 'Active' || orderStatus == 'Pending Reprice' || orderStatus == 'Expired' || orderStatus == 'Order Placed' || orderStatus == 'Pool Created'))">
                                            <div class="price-with-loader priceLoader" >
                                                View KID
                                                <div class="txtAlignCenter" *ngIf="this.sortedAllPrices[0].ViewKIDFlag">
                                                    <img src="{{asseturl}}Ajaxloader.gif" alt="" width="100px" class="ReqLoader"> 
                                                </div>
                                            </div></button><!-- Changed by Jyoti S || 31-May-2023 -->
                                            <!-- Quote status check added by Jyoti S || FIN1EURINT-576 || 08-Aug-2023 || END -->
                        <button id="btnViewTS" class="button btnPointer"  tabindex="46" (click)="sendordertocounterparty()" *ngIf="this.sortedAllPrices.length > 0 && this.sortedAllPrices[0].Price!==''
                            && sortedAllPrices[0].Price !== '-' && sortedAllPrices[0].Price !=='Timeout' && sortedAllPrices[0].Price > 0 && sendtocptyflag" [disabled]="!shwRepriceBookOrder || sendtoCptyBookOrder">Book Order
                            </button>


                    </div>
                    <div class="relPosition">

                        <!-- <div class="msgBox" style="border: 1px solid rgb(105, 105, 105); border-radius: 5px; " *ngIf="((this.sortedAllPrices.length > 0 && this.sortedAllPrices[0].Price!=='') && !saveFlag && !quoteEmailFlg) || (orderID!==''  && this.viewOnly) "> -->

                        <!-- *ngIf="((this.sortedAllPrices.length > 0 && this.sortedAllPrices[0].Price!=='') && !saveFlag) || (orderID!==''  && this.viewOnly)" -->
                        <div class="msgBox msgBoxborder" *ngIf="this.viewOnly && this.sortedAllPrices.length > 0 && this.sortedAllPrices[0].Price !== ''">
                            <div class="row reply-popup reply-popupBox">
                                <div class="col-4">
                                    <span>
                                            Cpty Ref
                                        </span>
                                </div>
                                <div class="col-8">
                                    <span>{{orderID}}</span>
                                </div>
                            </div>
                            <div class="row reply-popup reply-popupBox">
                                <div class="col-4">
                                    <span>
                                            Status
                                        </span>
                                </div>
                                <div class="col-8">
                                    <span>{{orderStatus}}</span>
                                </div>
                            </div>
                            <div class="row reply-popup reply-popupBox" *ngIf="reqSuccessMsg">
                                <div class="col-4">
                                    <span>
                                            Termsheet
                                        </span>
                                </div>
                                <div class="col-8">
                                    {{reqSuccessMsg}}
                                </div>
                            </div>
                        </div>

                        <div class="emailMsg">
                            <!-- <span class="successMsg" *ngIf="saveFlag || quoteEmailFlg">{{successMsg}} </span> -->
                            <!-- <span class="successMsg" *ngIf="saveFlag">{{successMsg}} </span> -->
                            <span class="successMsg" *ngIf="quoteEmailFlg">{{successMsg}} </span>
                            <!-- <span class="successMsg"> "Quote Mail Initiated"</span> -->
                        </div>
                    </div>
                </div>

                <div class="row">
                    <!-- *ngFor="let sortedPrice of this.lpArr" -->


                    <div class="lpFlex" *ngIf="!viewOnly">
                        <!-- <div class="bestlp" *ngIf="this.bestLPArray"> -->
                        <div class="card">
                            <div [ngClass]="this.bestLPArray.length !== 0 ? 'bestlpHighlight' : 'bestlp'" *ngIf="this.bestLPArray">
                                <div class="divbestLP">
                                    <!-- <h6>{{this.bestLPArray.lp}}</h6> -->
                                    <!-- <div style="display: grid; grid-template-columns: 10% auto;"> -->
                                    <!-- <input type="checkbox" /> -->
                                    <!-- [(ngModel)]="chkDateRange" (change)="chngChkBox()" disabled -->
                                    <div class="lp-box-name"> <!-- Div Added by SandipA for FIN1EURINT-574 || 08-Aug-23 -->
                                    <h6 class="hdrBest">Best</h6>
                                    </div>
                                    <!-- </div> -->
                                    <div class="LPheight">
                                        <span class="rfqFont">{{this.bestLPArray.rfq}}</span>
                                    </div>
                                    <div class="LPheight timer-icon"> <!-- timer-icon class added by SandipA for HSBCECCLI-30 || 10-Aug-23 -->
                                        <span *ngIf="this.bestLPArray.timer" class="pricer-timer">{{this.bestLPArray.timer}}
                                            </span>
                                    </div>
    
                                    <!-- <br *ngIf="!this.bestLPArray.timer" /> -->
                                    <div class="divRejectedPrice"></div>
                                    <div class="divActiveStatus">
                                        <div></div>
                                          <!-- Changes done by Apurva K|| 25-Apr-2023|| FIN1EURINT-219|| inline css:;height: 3em; -->
                                        <h5 class="priceColor hdrBestPrice" [ngClass]="(this.bestLPArray.price === 'Rejected') ? 'infocard' : ''">
                                            {{(this.bestLPArray.price === 'Rejected' || this.bestLPArray.price === 'Unsupported' || this.bestLPArray.price === 'Expired' || this.bestLPArray.price === 'Cancelled' || this.bestLPArray.length
                                            < 1 || bestLPArray.price==='-' || this.bestLPArray.price==='Timeout' ) ? this.bestLPArray.price : this.bestLPArray.price | number: '1.2-2'}} </h5>
                                                <!-- <div class="infocarddiv" *ngIf="(this.bestLPArray.status === 'REJECTED' || this.bestLPArray.status === 'Rejected') && this.bestLPArray.remark !==''">
                                                    <span class="infocardNote" style="white-space: initial;width: 260px;margin-top:-4em;">
                                                            {{ this.bestLPArray.remark}}
                                                        </span>
                                                </div> -->
                                                <div class="infocarddiv"  *ngIf="(this.bestLPArray.status === 'Active'  && this.bestLPArray.remark !=='' && this.bestLPArray.price !== '-')">
                                                    <!-- <span class="infocardNote" style="white-space: initial;width: 260px;margin-top:-4em;">
                                                            {{ p.remark}}
                                                        </span> -->
                                                        <!--Added by Varsha G || FIN1EURINT-188 || 21-Apr-2023-->
                                                        <img src="{{asseturl}}information.png" class="info imgInfo" *ngIf="this.bestLPArray.remark !==''">
                                                        <div class="infodiv" *ngIf="this.bestLPArray.remark !==''">
                                                            <span class="infoNote spnRemark" *ngIf="this.bestLPArray.remark !==''">
                                                                    {{this.bestLPArray.remark}}
                                                            </span>
                                                        </div>
                                                </div>
                                    </div>
                                    <!-- //Added by Varsha G || FIN1EURINT-671 || 31-Oct-23 -->
                                    <div class="divAdjustedPrice" >
                                        <span class="txtAdjust" *ngIf="this.bestLPArray.isSpreadEntityYN === 'Y'">Adjusted</span>
                                        <h4 class="priceColor hdrPriceFont" *ngIf="this.bestLPArray.isSpreadEntityYN === 'Y'">
                                            {{(this.bestLPArray.price === 'Rejected' || this.bestLPArray.price === 'Unsupported' || this.bestLPArray.price === 'Expired' || this.bestLPArray.price === 'Cancelled' || this.bestLPArray.length
                                            < 1 || bestLPArray.price==='-' || this.bestLPArray.price==='Timeout' ) ? this.bestLPArray.modifiedValue : this.bestLPArray.modifiedValue | number:'1.2-2'}}
                                        </h4>
                                    </div>
                                            <!-- <br
                                                *ngIf="bestLPArray.price == '' || bestLPArray.price ==='Timeout' || bestLPArray.price === 'Rejected' || this.bestLPArray.price === 'Unsupported' || this.bestLPArray.price === 'Expired' || this.bestLPArray.price === 'Cancelled' || bestLPArray.price < 0" /> -->
                                            <h5 class="priceColor hdrPriceFont"></h5>
                                            <h5 class="priceColor hdrPriceFont"></h5>
                                            <h5 class="priceColor hdrPriceFont"></h5>
                                            <h6 class="hdrBestLpTsMsg">{{this.bestLPArray.TSMsg}}</h6>
                                            <h6 class="hdrBestLPMsg" [ngStyle]="{'margin-bottom':this.bestLPArray.length !== 0 ? '25px' : '54px' }">{{this.bestLPArray.Msg}}</h6> <!-- Changed by AdilP @09-05-2023 || FIN1EURINT-291  -->
                                            <h6 class="hdrTsMsg"></h6>
                                            <!-- Start - Added by Apurva K|| 25-Apr-2023||FIN1EURINT-219 -->
                                            <!-- <div style="height: 20px;">
                                                <a *ngIf="bestLPArray && bestLPArray.price&&  bestLPArray.price !== '-' && bestLPArray.price !=='Timeout' && bestLPArray.price !== 'Rejected' && this.bestLPArray.price !== 'Unsupported' && this.bestLPArray.price !== 'Expired'  && bestLPArray.price > 0"
                                                    class="quoteMailLabel" (click)="emailQuote(bestLPArray.rfq)">Mail</a>
                                            </div> -->
                                            <!-- End - Added by Apurva K|| 25-Apr-2023||FIN1EURINT-219 -->
    
                                            <!-- <br
                                                *ngIf="bestLPArray && bestLPArray.price && bestLPArray.price !== '-' && bestLPArray.price !=='Timeout' && bestLPArray.price !== 'Rejected' && bestLPArray.price !== 'Unsupported' && bestLPArray.price !== 'Expired' && bestLPArray.price !== 'Cancelled' && bestLPArray.price > 0">
                                            <br
                                                *ngIf="bestLPArray === undefined || bestLPArray.length <=0 || bestLPArray.price == '' || bestLPArray.price ==='Timeout' || bestLPArray.price === 'Rejected' || this.bestLPArray.price === 'Unsupported' || this.bestLPArray.price === 'Expired' || this.bestLPArray.price === 'Cancelled' || bestLPArray.price < 0" /> -->
                                            <!-- Changed by Amogh K | 19apr2022 | request TS config check | assigned by pranav D -->
                                            
                                            <button class="button bestLpBtnMail" [disabled]="(bestLPArray.length < 1 || bestLPArray.price === '-' || bestLPArray.price === 'Rejected' || bestLPArray.price === 'Unsupported' || bestLPArray.price === 'Expired' || bestLPArray.price === 'Cancelled' || bestLPArray.price === 'Timeout' || (viewOnly && viewRFQ !== bestLPArray.rfq))" 
                                            (click)="emailQuote(bestLPArray.rfq)">Mail</button>
                                            
                                            <button class="button btnMinWidth" [disabled]="(bestLPArray.length < 1 || bestLPArray.price === '-' || bestLPArray.price === 'Rejected' || bestLPArray.price === 'Unsupported' || bestLPArray.price === 'Expired' || bestLPArray.price === 'Cancelled' || bestLPArray.price === 'Timeout' || (viewOnly && viewRFQ !== bestLPArray.rfq) || bestLPArray.TSNotSupported || bestLPArray.TSDisableFlag)"
                                                *ngIf="(EQ_Show_Termsheet_Button === 'YES' || EQ_Show_Termsheet_Button === 'Y' || EQ_Show_Termsheet_Button === 'Yes')" (click)="RequestTS(bestLPArray.idx)" >Request
                                                    TS</button>
                                                    <button class="button btnViewTSandKID" *ngIf="bestLPArray.TSFlag" (click)="ViewTS(bestLPArray.idx)"> 
                                                        <div class="price-with-loader divMarginLeft">
                                                        View TS
                                                            <div class="txtAlignCenter" *ngIf="bestLPArray.ViewTSFlag">
                                                                <div class="row priceall-loader loaderbox">
                                                                    <div class="col-12">
                                                                        <img src="{{asseturl}}Ajaxloader.gif" alt="" width="100px" class="loadergif">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </button><!-- Changed by Jyoti S || 25-May-2023 -->
                                            <!-- Changed by Amogh K | 21apr2022 | request KID config check | assigned by pranav D -->
                                            <button class="button btnMinWidth" [disabled]="(bestLPArray.length < 1 || bestLPArray.price === '-' || bestLPArray.price === 'Rejected' || bestLPArray.price === 'Unsupported' || bestLPArray.price === 'Expired' || bestLPArray.price === 'Cancelled' || bestLPArray.price === 'Timeout' || (viewOnly && viewRFQ !== bestLPArray.rfq) || priipsYN === 'No' || bestLPArray.KidNotSupported || bestLPArray.KidDisableFlag)"
                                                *ngIf="(EQ_Show_KID_Button === 'YES' || EQ_Show_KID_Button === 'Y' || EQ_Show_KID_Button === 'Yes')" (click)="RequestKID(bestLPArray.idx)" >Request
                                                    KID</button>
                                            <button class="button btnViewTSandKID" *ngIf="bestLPArray.KIDFlag" (click)="ViewKID(bestLPArray.idx)">
                                                <div class="price-with-loader divMarginLeft">
                                                    View KID
                                                        <div class="txtAlignCenter" *ngIf="bestLPArray.ViewKIDFlag">
                                                            <div class="row priceall-loader loaderbox">
                                                                <div class="col-12">
                                                                    <img src="{{asseturl}}Ajaxloader.gif" alt="" width="100px" class="loadergif">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                            </button>
                                            <!-- <button class="button"
                                        [disabled]="(bestLPArray.length < 1 || bestLPArray.price === '-' || bestLPArray.price === 'Rejected' || bestLPArray.price === 'Unsupported' || bestLPArray.price === 'Expired' || bestLPArray.price === 'Cancelled' || bestLPArray.price === 'Timeout' || (viewOnly && viewRFQ !== bestLPArray.rfq))"
                                        style="min-width: 8em;"
                                        [routerLink]="['/PreviousQuotesNew',{RFQ_ID:bestLPArray.rfq,Template_Code:'YieldEnhancement',RedirectedFrom:'Pricers',Mode:'Launch Product'}]"
                                        routerLinkActive="active-link">Launch Product</button> -->
                                            <!-- Modified ngIf condition based on entity config || PriyaL || 05Apr2022 || Assigned by PranavD -->
                                            <button class="button btnMinWidth" *ngIf="isDealer && (EQ_Show_Launch_Button === 'YES' || EQ_Show_Launch_Button === 'Y' || EQ_Show_Launch_Button === 'Yes')" [disabled]="(bestLPArray.length < 1 || bestLPArray.price === '-' || bestLPArray.price === 'Rejected' || bestLPArray.price === 'Unsupported' || bestLPArray.price === 'Expired' || bestLPArray.price === 'Cancelled' || bestLPArray.price === 'Timeout' || (viewOnly && viewRFQ !== bestLPArray.rfq))"
                                                 (click)="lauchProduct(bestLPArray)">Launch
                                                    Product</button>
                                            <!-- <button class="bookBtn" style="min-width: 8em;" *ngIf="!viewOnly"
                                                (click)="PriceLP(bestLPArray.lp)"
                                                [disabled]="!bestLPArray.priceChkFlg">Price
                                            </button> -->
                                            <!-- Modified ngIf condition based on entity config || PriyaL || 05Apr2022 || Assigned by PranavD -->
                                            <button class="button btnMinWidth" [disabled]="(bestLPArray.length < 1 || bestLPArray.price === '-' || bestLPArray.price === 'Rejected' || bestLPArray.price === 'Unsupported' || bestLPArray.price === 'Expired' || bestLPArray.price === 'Cancelled' || bestLPArray.price === 'Timeout' 
                                    || bestLPArray.timer === '' || bestLPArray.timer === 0 || (viewOnly && viewRFQ !== bestLPArray.rfq) || !bookOrderFlag)"  (click)="showOrderDetails(bestLPArray.lp,bestLPArray.rfq,bestLPArray);postBackMethod();"
                                                *ngIf="!viewOnly && (EQ_Show_Order_Button === 'YES' || EQ_Show_Order_Button === 'Y' || EQ_Show_Order_Button === 'Yes')">Book
                                                    Order</button>
    
                                </div>
                                <div>
                                    <!-- Min max LP section changes | by Amogh K | assigned by Pranav D | 18Apr2022 start -->
                                    <!-- <br /> -->
                                    <span *ngIf="bestLPArray.price !== '-' && bestLPArray.price !=='Timeout' && bestLPArray.price > 0" class="minMaxLimitFont">
                                            {{this.commonfunctions.nFormatter(bestLPArray.minLimit)}}</span>&nbsp;
                                    <span *ngIf="bestLPArray.price !== '-' && bestLPArray.price !=='Timeout' && bestLPArray.price > 0">/</span>&nbsp;
                                    <span *ngIf="bestLPArray.price !== '-' && bestLPArray.price !=='Timeout' && bestLPArray.price > 0" class="minMaxLimitFont">
                                            {{this.commonfunctions.nFormatter(bestLPArray.maxLimit)}}</span>
                                    <!-- Min max LP section changes | by Amogh K | assigned by Pranav D | 18Apr2022 end -->
    
                                </div>
                            </div>
                        </div>
                        
                        <div class="cards-section">
                             <!-- <div [ngClass]="this.sortedAllPrices.length > 0 && this.sortedAllPrices[0].lp === p.lp ? 'selectedlp' : 'lpname'" -->
                            <div [ngClass]="this.sortedAllPrices.length > 0 && this.sortedAllPrices[0].lp === p.lp ? 'selectedlp' : 'lpname'" *ngFor="let p of this.priceProvidersArr, let i = index;">
                                <!-- <div style="display: flex; flex-direction: column; justify-content: flex-start;align-items: center;align-self: center; gap: 5px;" [ngClass]="{ 'lp-loading' : p.loadFlag == true}"> -->
                                <div class="divbestLP">
                                    <div class="lp-box-name">
                                        <input type="checkbox" [checked]="p.priceChkFlg" (change)="chngPriceChkBox(i)" class="lpNameWidth" />
                                        <h6 class="lp-name">{{p.lp}}</h6>
                                    </div>
                                    <div class="LPheight">
                                        <span class="rfqFont">{{p.rfq}}</span>
                                    </div>
                                    <div class="timer-icon LPheight">
                                        <app-svg-icons *ngIf="p.price !== '-'" [icon]="'clock-icon'" [width]="'10'" [height]="'10'">
                                        </app-svg-icons>
                                        <span class="spntimerHeight" [ngClass]="p.timer <= 10 && p.timer > 0 ? 'timerTimeout':'timer-text'" >{{(p.timer
                                            ===
                                            this.defaultTimeout) || (p.price === '-' || p.price === '' || p.price === 0 || p.price === 'Rejected' || p.price === 'Unsupported' || p.price === 'Expired' || p.price === 'Cancelled' || p.price === 'Timeout') ? '' : p.timer}}</span>
                                    </div><!-- ngclass added to timer for blinking effect || Jyoti S || 25-Apr-2023 -->

                                    <!-- <br *ngIf="p.timer===this.defaultTimeout" /> -->
                                    <!-- <br
                                            *ngIf="p.price === 'Unsupported' || p.price === 'Expired' || p.price === 'Cancelled'" /> -->
                                    <div class="divRejectedPrice">
                                        <h5 class="priceColor hdrRejectedPrice" *ngIf="p.price === 'Rejected'">
                                            {{(p.price === 'Rejected' || p.price === 'Unsupported' || p.price === 'Expired' || p.price === 'Cancelled' || p.price === '-' || p.price === 'Timeout') ? p.price : p.price | number:'1.2-2'}}</h5>
                                        <div class="infocarddiv" *ngIf="(p.status === 'REJECTED' || p.status === 'Rejected') && (p.price === 'Rejected') && p.remark !==''">
                                            <!-- <span class="infocardNote" style="white-space: initial;width: 260px;margin-top:-4em;">
                                                    {{ p.remark}}
                                                </span> -->
                                                <!--Added by Varsha G || FIN1EURINT-188 || 21-Apr-2023-->
                                                <img src="{{asseturl}}information.png" class="info ReqLoader" *ngIf="p.remark !==''">
                                                <div class="infodiv" *ngIf="p.remark !==''">
                                                    <span class="infoNote spnRemarkInfo" *ngIf="p.remark !==''">
                                                            {{p.remark}}
                                                    </span>
                                                </div>
                                        </div>
                                    </div>
                                    <h5 class="priceColor hdrPriceFont" *ngIf="p.price === 'Unsupported' || p.price === 'Expired' || p.price === 'Cancelled' || p.price === 'Timeout'">
                                        {{(p.price === 'Rejected' || p.price === 'Unsupported' || p.price === 'Expired' || p.price === 'Cancelled' || p.price === '-' || p.price === 'Timeout') ? p.price : p.price | number:'1.2-2'}}</h5>
                                    
                                        <div class="divActiveStatus">
                                            <div></div>
                                            <h5 class="priceColor hdrActiveStatus" *ngIf="p.price !== 'Rejected' && p.price !== 'Unsupported' && p.price !== 'Expired'  && p.price !== 'Cancelled' && p.price !== 'Timeout' && p.price !== '-'">
                                                {{(p.price === 'Rejected' || p.price === 'Unsupported' || p.price === 'Expired' || p.price === 'Cancelled' || p.price === '-' || p.price === 'Timeout') ? p.price : p.price | number:'1.2-2'}}</h5>
                                                <div class="infocarddiv" *ngIf="(p.status === 'Active'  && p.remark !=='' && p.price !== '-')">
                                                    <!-- <span class="infocardNote" style="white-space: initial;width: 260px;margin-top:-4em;">
                                                            {{ p.remark}}
                                                        </span> -->
                                                        <!--Added by Varsha G || FIN1EURINT-188 || 21-Apr-2023-->
                                                        <img src="{{asseturl}}information.png" class="info imgInfo" *ngIf="p.remark !==''">
                                                        <div class="infodiv" *ngIf="p.remark !==''">
                                                            <span class="infoNote spnRemark" *ngIf="p.remark !==''">
                                                                    {{p.remark}}
                                                            </span>
                                                        </div>
                                                </div>

                                        </div>
                                        <!-- //Added by Varsha G || FIN1EURINT-671 || 31-Oct-23 -->
                                        <div class="divAdjustedPrice">
                                            <span class="txtAdjust" *ngIf="p.isSpreadEntityYN === 'Y'">Adjusted</span>
                                            <h4 class="priceColor hdrPriceFont" *ngIf="p.isSpreadEntityYN === 'Y'">
                                                    {{(p.price === 'Rejected' || p.price === 'Unsupported' || p.price === 'Expired' || p.price === 'Cancelled' || p.price === '-' || p.price === 'Timeout') ? p.modifiedValue : p.modifiedValue | number:'1.2-2'}}
                                            </h4>
                                        </div>
                                    <h5 class="priceColor hdrPriceFont" *ngIf="!p.loadFlag && p.price === '-'">
                                        {{(p.price === 'Rejected' || p.price === 'Unsupported' || p.price === 'Expired' || p.price === 'Cancelled' || p.price === '-' || p.price === 'Timeout') ? p.price : p.price | number:'1.2-2'}}</h5>    
                                    <div class="txtAlignCenter" *ngIf="p.loadFlag">
                                        <div class="row loaderbox">
                                            <div class="col-12">
                                                <img src="{{asseturl}}loading_dots.gif" alt="" width="50px" height="54px" class="imgMargin">
                                            </div>
                                        </div>
                                    </div>
                                    <!-- <br> -->
                                    <!-- <br *ngIf="p.Msg===''">
                    <br *ngIf="p.TSMsg===''"> -->
                                    <h6 class="hdrTsMsg">{{p.TSMsg}}</h6>
                                    <h6 class="hdrMsg">{{p.Msg}}</h6>
                                    <h6 class="hdrMsg">{{p.MatchSentMsg}}</h6> <!-- HSBCECCLI-32 || Apurva K || 18-Jan-2024 -->
                                    <!-- <h6  style="height: 2em;" *ngIf="p.TSMsg!==''">{{p.TSMsg}}</h6>
                    <h6  style="height: 2em;" *ngIf="p.Msg!==''">{{p.Msg}}</h6> -->
                                    <!-- <a *ngIf="p.price !== '-' && p.price !=='Timeout' && p.price !== 'Rejected' && p.price !== 'Unsupported' && p.price !== 'Expired'  && p.price !== 'Cancelled' && p.price > 0"
                        class="quoteMailLabel" (click)="emailQuoteLP(p.rfq)">Mail</a><br> -->

                                    <div class="divMail">
                                        <a *ngIf="p.price !== '-' && p.price !=='Timeout' && p.price !== 'Rejected' && p.price !== 'Unsupported' && p.price !== 'Expired'  && p.price !== 'Cancelled' && p.price > 0 && p.timer !== 0" class="quoteMailLabel" (click)="emailQuote(p.rfq)">Mail</a>
                                        <a *ngIf="p.price ==='Timeout' || p.price === 'Rejected' || p.price === 'Unsupported' || p.price === 'Expired' || p.price === 'Cancelled'" class="quoteMailLabel mailLabelHeight"></a>
                                    </div>

                                    <!-- <br
                                            *ngIf="p.price !== '-' && p.price !=='Timeout' && p.price !== 'Rejected' && p.price !== 'Unsupported' && p.price !== 'Expired'  && p.price !== 'Cancelled' && p.price > 0">
                                        <br
                                            *ngIf="p.price === '-' || p.price === '' || p.price ==='Timeout' || p.price === 'Rejected' || p.price === 'Unsupported' || p.price === 'Expired' || p.price === 'Cancelled'|| p.price < 0" /> -->
                                    <!-- Changed by Amogh K | 19apr2022 | request TS config check | assigned by pranav D -->
                                    
                                    <!--Start - Changes done by Apurva K|| 26-Apr-2023||FIN1EURINT-246 -->
                                    <button class="button btnMinWidth" [disabled]="(p.price === '-' || p.price === 'Rejected' || p.price === 'Unsupported' || p.price === 'Expired' || p.price === 'Cancelled' || p.price === 'Timeout' || (viewOnly && viewRFQ !== p.rfq) || (p.timer == 0))|| p.TSFlag|| p.TSDisableFlag || p.TSNotSupported||p.TSFlag|| p.TSDisableFlag"
                                    *ngIf="(EQ_Show_Termsheet_Button === 'YES' || EQ_Show_Termsheet_Button === 'Y' || EQ_Show_Termsheet_Button === 'Yes')"
                                        (click)="RequestTS(i)" >
                                        <div class="price-with-loader">
                                            Request
                                        TS
                                            <div class="txtAlignCenter" *ngIf="p.TSLoadFlag">
                                                <div class="row priceall-loader loaderbox">
                                                    <div class="col-12">
                                                        <img src="{{asseturl}}Ajaxloader.gif" alt="" width="100px" class="loadergif">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    
                                    </button>
                                    <!--End - Changes done by Apurva K|| 26-Apr-2023||FIN1EURINT-246 -->

                                    <button class="button btnViewTSandKID" *ngIf="p.TSFlag" (click)="ViewTS(i)"> 
                                        <div class="price-with-loader divMarginLeft">
                                        View TS
                                            <div class="txtAlignCenter" *ngIf="p.ViewTSFlag">
                                                <div class="row priceall-loader loaderbox">
                                                    <div class="col-12">
                                                        <img src="{{asseturl}}Ajaxloader.gif" alt="" width="100px" class="loadergif">
                                                    </div>
                                                </div>
                                            </div>
                                        </div></button><!-- Changed by Jyoti S || 25-May-2023 -->
                                    <!-- Changed by Amogh K | 21apr2022 | request KID config check | assigned by pranav D -->

                                    <!--Start - Changes done by Apurva K|| 09-May-2023||As suggested by Nitish K  -->
                                    <button class="button btnMinWidth" [disabled]="(p.price === '-' || p.price === 'Rejected' || p.price === 'Unsupported' || p.price === 'Expired' || p.price === 'Cancelled' || p.price === 'Timeout' || (viewOnly && viewRFQ !== p.rfq) || priipsYN === 'No' || p.timer === 0)|| p.KIDFlag|| p.KidDisableFlag || p.KidNotSupported" 
                                    *ngIf="(EQ_Show_KID_Button === 'YES' || EQ_Show_KID_Button === 'Y' || EQ_Show_KID_Button === 'Yes')"
                                        (click)="RequestKID(i)" >
                                        <div class="price-with-loader">
                                            Request
                                            KID
                                            <div class="txtAlignCenter" *ngIf="p.KIDLoadFlag">
                                                <div class="row priceall-loader loaderbox">
                                                    <div class="col-12">
                                                        <img src="{{asseturl}}Ajaxloader.gif" alt="" width="100px" class="loadergif">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </button>
                                    <!--End - Changes done by Apurva K|| 09-May-2023||As suggested by Nitish K  -->

                                    <button class="button btnViewTSandKID" *ngIf="p.KIDFlag" (click)="ViewKID(i)" [disabled]="p.ViewKIDFlag">
                                        <div class="price-with-loader divMarginLeft">
                                            View KID
                                                <div class="txtAlignCenter" *ngIf="p.ViewKIDFlag">
                                                    <div class="row priceall-loader loaderbox">
                                                        <div class="col-12">
                                                            <img src="{{asseturl}}Ajaxloader.gif" alt="" width="100px" class="loadergif">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                    </button>
                                    <!-- <button class="button"
                                    [disabled]="(p.price === '-' || p.price === 'Rejected' || p.price === 'Unsupported' || p.price === 'Expired' || p.price === 'Cancelled' || p.price === 'Timeout' || (viewOnly && viewRFQ !== p.rfq))"
                                    style="min-width: 8em;"
                                    routerLink="['/PreviousQuotesNew',{RFQ_ID:p.rfq,Template_Code:'YieldEnhancement',RedirectedFrom:'Pricers',Mode:'Launch Product'}]"
                                    routerLinkActive="active-link">Launch Product</button> -->
                                    <!-- Modified ngIf condition based on entity config || PriyaL || 05Apr2022 || Assigned by PranavD -->
                                    <button class="button btnMinWidth" *ngIf="isDealer && (EQ_Show_Launch_Button === 'YES' || EQ_Show_Launch_Button === 'Y' || EQ_Show_Launch_Button === 'Yes')" [disabled]="(p.price === '-' || p.price === 'Rejected' || p.price === 'Unsupported' || p.price === 'Expired' || p.price === 'Cancelled' || p.price === 'Timeout' || (viewOnly && viewRFQ !== p.rfq) || (p.timer == 0))"
                                        (click)="lauchProduct(p)">Launch Product</button>
                                    <button class="button btnMinWidth"  *ngIf="!viewOnly" (click)="PriceLP(p.lp)" [disabled]="!p.priceChkFlg || p.loadFlag">
                                        <!-- <div class="price-with-loader"> -->
                                            {{ "Price" | translate }}
                                            <!-- <div style="text-align: center;" *ngIf="p.loadFlag">
                                                <div class="row" style="padding: 0 auto !important;margin: 0;">
                                                    <div class="col-12">
                                                        <img src="{{asseturl}}Ajaxloader.gif" alt="" width="100px" style="margin-top: -40px; width: 15px; height: 15px;">
                                                    </div>
                                                </div>
                                            </div>
                                        </div> -->
                                    </button>

                                    <!-- Added by Apurva K||10-Aug-2023||HSBCECCLI-32 -->
                                    <!-- Modified by Apurva K|| 11-Mar-2024|| FIN1EURINT-704 -->
                                    <button tabindex="43" id="auto_trigger_RFM" class="button btnMinWidth" #RFM 
                                    *ngIf="this.matchBtnFlag && p.lp == this.EQ_PriceMatch_LPName &&(p.price != 'Rejected' || p.price != 'Unsupported'|| p.price != 'Expired'||p.price != 'Cancelled' || p.price != 'Timeout')" 
                                    [disabled]="(p.MatchBtnDisable || (p.price == 'Rejected' || p.price == 'Unsupported'|| p.price == 'Expired'||p.price == 'Cancelled' || p.price == 'Timeout'))" 
                                    (click)="Match(i)">
                                        <!-- <div class="price-with-loader"> -->
                                            {{"Match" | translate }}
                                            <!-- <div class="txtAlignCenter" *ngIf="matchLoadflag">
                                                <div class="row priceall-loader loaderbox" >
                                                    <div class="col-12">
                                                        <img src="{{asseturl}}Ajaxloader.gif" alt="" width="100px" class="loadergif">
                                                    </div>
                                                </div>
                                            </div> -->
                                        <!-- </div> -->
                                    </button>
                                    
                                    <!-- Modified ngIf condition based on entity config || PriyaL || 05Apr2022 || Assigned by PranavD -->
                                    <button class="button btnMinWidth" [disabled]="(p.price === '-' || p.price === 'Rejected' || p.price === 'Unsupported' || p.price === 'Expired' || p.price === 'Cancelled' || p.price === 'Timeout' || (viewOnly && viewRFQ !== p.rfq) || !bookOrderFlag) || (p.timer == 0)" 
                                        (click)="showOrderDetails(p.lp,p.rfq,p);postBackMethod();" *ngIf="!viewOnly && (EQ_Show_Order_Button === 'YES' || EQ_Show_Order_Button === 'Y' || EQ_Show_Order_Button === 'Yes')">Book
                                            Order</button>

                                </div>
                                <div>
                                    <!-- Min max LP section changes | by Amogh K | assigned by Pranav D | 18Apr2022 start -->
                                    <!-- <br /> -->
                                    <span *ngIf="p.price !== '-' && p.price !=='Timeout' && p.price > 0" class="minMaxLimitFont">
                                            {{this.commonfunctions.nFormatter(p.minLimit)}}</span>&nbsp;
                                    <span *ngIf="p.price !== '-' && p.price !=='Timeout' && p.price > 0">/</span>&nbsp;
                                    <span *ngIf="p.price !== '-' && p.price !=='Timeout' && p.price > 0" class="minMaxLimitFont">{{this.commonfunctions.nFormatter(p.maxLimit)}}</span>
                                    <!-- Min max LP section changes | by Amogh K | assigned by Pranav D | 18Apr2022 end -->

                                </div>



                            </div>
                        </div>
                       
                    </div>

                </div>
                <!-- <div *ngIf="showOrderDetailsFlag" style="display: none !important;">
            <div class="row" style="padding-top:1em !important;">
                <label style="background-color:rgba(243, 241, 241, 0.527);  font-size: 25px !important; width:100%;color: var(--header);">Order
        Details</label>
            </div>


            <div class="row" style="padding-top: 0 !important;">
                <div class="col-lg-6 col-md-12 col-sm-12" style="width: 45vw !important;">
                    <div class="row">
                        <div class="col-xl-2 col-lg-2 col-md-6 col-sm-12 col-xs-12">
                            <label class="disabledlbl">Issuer</label>
                        </div>
                        <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 col-xs-12">
                            <input type="text" class=" floatMiddle" disabled="disabled" value="{{ Issuer }}" />
                        </div>
                        <div class="col-xl-2 col-lg-2 col-md-6 col-sm-12 col-xs-12">
                            <label>Booking Branch</label>
                        </div>
                        <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 col-xs-12">
                            <select [(ngModel)]="selectedBookingBranch">
             
              <option value="London">London</option>
             <option value="Madrid">Madrid</option>

            </select>
                        </div>
                    </div>

                    <div class="row">

                        <div class="col-xl-2 col-lg-2 col-md-6 col-sm-12 col-xs-12">
                            <label>Order Type</label>
                        </div>
                        <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 col-xs-12">
                            <select [(ngModel)]="OrderType">
              <option value="Limit">Limit</option>
              <option value="Market">Market</option>
              <option value="Market">MOC</option>
              <option value="Market">VWAP</option>
            </select>
                        </div>
                        <div class="col-xl-2 col-lg-2 col-md-6 col-sm-12 col-xs-12">
                            <label>Limit Level</label>
                        </div>
                        <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 col-xs-12">
                            <select *ngIf="ShareBasket && OrderType === 'Limit'" style="max-width: 6em;">
              <option *ngFor="let sharearr of ShareBasket" [selected]="ShareBasket[ShareBasket.length-1].Name"
                [value]="sharearr.Code">
                {{ sharearr.Code }}</option>
            </select>
                            <input type="text" [ngClass]="OrderType === 'Limit' ? 'limitAmtWidth' : '' " [(ngModel)]="LimitAmount" [disabled]="OrderType !== 'Limit'" value="0" maxlength="10" (keypress)="commonfunctions.InputNumber($event)" />
                        </div>
                    </div>
                    <div class="row">


                    </div>


                </div>

                <div class="col-lg-6 col-md-12 col-sm-12" style="width: 45vw !important;">


                    <div class="row">
                        <div class="col-xl-2 col-lg-2 col-md-6 col-sm-12 col-xs-12">
                            <label>Order Notional ({{ (ddlNoteCcy) }})</label>
                        </div>
                        <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 col-xs-12">
                            <input type="text" class=" floatMiddle" value="{{totalNotional}}" [(ngModel)]="totalNotional" />
                        </div>

                    </div>



                    <div class="row">


                    </div>





                </div>
            </div>


            <div class="row" style="padding-top:1em !important;">
                <div id="blotterDiv" class="col-12">
                </div>
            </div>
            <div class="row" style="padding-top:2em !important;">
                <div class="col-xl-3 col-lg-4 col-md-8 col-sm-6 col-xs-12">

                </div>
                <div class="col-xl-4 col-lg-4 col-md-8 col-sm-6 col-xs-12" style="text-align: center;">
                    <button class="button" (click)="bookOrder()">Confirm2</button>


                    <button class="button" (click)="hideOrderDetails()">Cancel</button>
                </div>

                <div class="col-xl-4 col-lg-4 col-md-8 col-sm-12 col-xs-12">
                    <span class="errorMsg">{{ErrorMsg1}}</span>
                    <span class="successMsg">{{ordersuccessMsg}}</span>
                </div>
            </div>

        </div> -->

                <div *ngIf="poolDetailsVisibleFlag">
                    <div class="row divPoolDetails">
                        <label class="lblPoolDetails">Pool
                                Details</label>
                    </div>


                    <div class="row rowpaddingTop">
                        <div class="col-lg-6 col-md-12 col-sm-12 divRowWidth">
                            <div class="row">
                                <div class="col-xl-3 col-lg-3 col-md-6 col-sm-12 col-xs-12">
                                    <label>Pool Activation Date</label>
                                </div>
                                <div class="col-xl-9 col-lg-9 col-md-6 col-sm-12 col-xs-12">
                                    <input type="text" class="divActivePoolWidth" [(ngModel)]="poolActivateDate" id="txtpoolActivateDate" value="{{poolActivateDate}}">

                                </div>

                            </div>

                            <div class="row">

                                <div class="col-xl-2 col-lg-2 col-md-6 col-sm-12 col-xs-12">
                                    <label>Min Notional</label>
                                </div>
                                <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 col-xs-12">
                                    <!-- <label>{{minPoolNotional}}</label> -->
                                    <input type="text" [(ngModel)]="minPoolNotional" id="txtminPoolNotional" value="{{minPoolNotional}}">
                                </div>
                                <div class="col-xl-2 col-lg-2 col-md-6 col-sm-12 col-xs-12">
                                    <label>Max Notional</label>
                                </div>
                                <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 col-xs-12">

                                    <input type="text" [(ngModel)]="maxPoolNotional" id="txtmaxPoolNotional" value="{{maxPoolNotional}}">

                                </div>
                            </div>
                            <div class="row">


                            </div>


                        </div>

                        <!-- right col -->
                        <div class="col-lg-6 col-md-12 col-sm-12 divRowWidth">


                            <div class="row">
                                <div class="col-xl-3 col-lg-3 col-md-6 col-sm-12 col-xs-12">
                                    <label>Pool Expiry Date</label>
                                </div>
                                <div class="col-xl-9 col-lg-9 col-md-6 col-sm-12 col-xs-12">
                                    <input type="text" class="divActivePoolWidth" [(ngModel)]="poolExpiryDate" id="txtpoolExpiryDate" value="{{poolExpiryDate}}">
                                </div>

                            </div>


                            <div class="row">
                                <div class="col-xl-2 col-lg-2 col-md-6 col-sm-12 col-xs-12">
                                    <label>Min Order Size</label>
                                </div>
                                <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 col-xs-12">
                                    <!-- <label> {{ minOrderSize }}</label> -->
                                    <input type="text" [(ngModel)]="minOrderSize" id="minOrderSize" value="{{minOrderSize}}">

                                </div>

                                <div class="col-xl-2 col-lg-2 col-md-6 col-sm-12 col-xs-12">
                                    <label>Denomination</label>
                                </div>
                                <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 col-xs-12">
                                    <!-- <label> {{ Denomination }}</label> -->
                                    <input type="text" [(ngModel)]="Denomination" id="Denomination" value="{{Denomination}}">

                                </div>
                            </div>

                            <div class="row">
                            </div>

                        </div>
                    </div>





                    <div class="row divPoolDetails">
                        <div id="blotterDiv" class="col-12">
                        </div>
                    </div>
                    <div class="row dvPoolBtns">
                        <div class="col-xl-3 col-lg-4 col-md-8 col-sm-6 col-xs-12">

                        </div>
                        <div class="col-xl-4 col-lg-4 col-md-8 col-sm-6 col-xs-12 txtAlignCenter">
                            <button class="button" (click)="createPool()">Confirm</button>


                            <button class="button" (click)="hidePoolDetails()">Cancel</button>
                        </div>

                        <div class="col-xl-4 col-lg-4 col-md-8 col-sm-12 col-xs-12">
                            <span class="errorMsg">{{poolErrorMsg}}</span>
                            <span class="successMsg">{{poolSuccessMsg}}</span>
                        </div>
                    </div>

                </div>

                <br />
                <br />
                <br />
            </div>
            <!-- remove br tags || Apurva C  -->
            <!-- <br><br> -->
            <!--Added by Apurva C||19-Oct-->
            <div *ngIf="activeTab==='PQ'">

                <app-previous-quotes-new [accord]="6" [activeTab]="activeTab"></app-previous-quotes-new>
            </div>
            <div *ngIf="activeTab==='Summary'">
                You are in Summary
            </div>


        </div>
    </div>
    </div>
</div>

<div id="schedule" *ngIf="showSchedulePopupFlag">

    <div class="schedulePopup">

        <div>
            <span class="spnDateTime">Pick date & time</span>
            <div class="btnClose dvDateTimeClose" (click)="hideSchedulePopup()">
                X
            </div>
        </div>
        <div class="scheduleDiv">
            <div class="calendar-wrapper">
                <mat-calendar #calendar (monthSelected)="monthSelected($event)" [(selected)]="selectedDate" (selectedChange)="dateChanged()" [minDate]="todayDate"></mat-calendar>
            </div>
            <div>
                <input type="text" class="scheduleInput" [(ngModel)]="inputDate" value="{{selectedDate | date:'dd-MMM-yyyy'}}" disabled><br />
                <!-- <input type="text" class="scheduleInput" [(ngModel)]="inputTime" value="{{selectedDate | date:'hh:mm a'}}"> -->
                <input type="time" class="scheduleInput inputDate" [(ngModel)]="inputTime" value="{{inputTime}}">

            </div>
        </div>
        <div class="scheduleBtnGrid">
            <div>
                <span class="spnErrMsgTop" *ngIf="ErrorMsgTop!==''">{{ErrorMsgTop}}</span>
                <span class="successMsg" *ngIf="scheduleMsg!==''">{{scheduleMsg}}</span>
            </div>
            <div>
                <button class="button" (click)="hideSchedulePopup()">Cancel</button>
                <button class="button" (click)="scheduleSend()">Schedule Send</button>

            </div>
        </div>
    </div>

</div>

<div id="saveShare" *ngIf="showsaveSharePopupFlag">
    <div class="savesharePopup">
        <div class="divSaveShare">
            <span class="spnShare">Share with Colleagues and Groups</span>
        </div>
        <div class="divSaveShare">
            <!-- <input type="text" placeholder="Please enter user ID or client group" class="longText saveShareInput">  -->
            <input type="text" placeholder="Please enter user ID or client group" value="{{userName}}" class="saveShareInput" [(ngModel)]="userName" maxlength="10" (keypress)="ChangeIndex_User($event); showSuggestions_User = true"
                (keydown.enter)="selectUser($event); userflag=false;" (keydown.backspace)="backKeyPress_User($event)" (keydown.delete)="backKeyPress_User($event)" (keydown.tab)="userflag=false;" (keydown.ArrowUp)="selectedBIndex_User = commonfunctions.moveUpSelection1($event, selectedBIndex_User)"
                (keydown.ArrowDown)="selectedBIndex_User = commonfunctions.moveDownSelection1($event, selectedBIndex_User)" tabindex="47" Id="txtUserGroup" />
            <div class="SelectorBox selectorBoxWidth" *ngIf="userflag && showSuggestions_User" (clickOutside)="userflag=false;">
                <a *ngFor="let user of (users | searchUserGroup: userName); let i = index" (keypress)="ChangeIndex_User($event)" (keydown.enter)="selectUser($event)">
                    <div *ngIf="user" [attr.data-user]="user.Code" (click)="showUser($event,user)" [ngClass]="{HoverSuggestion: i === selectedBIndex_User}">
                        <span>{{ user.Name }}</span>
                    </div>
                </a>
            </div>
        </div>

        <div class="userListDiv" *ngFor="let u of userBasket;let i = index">
            <div class="dvUserList" (click)="deleteUserfromList(i)">
                <!-- <img src="{{asseturl}}delete.png" width="30px" style="filter: invert(50%);cursor: pointer;"
                    title="Delete"> -->
                <app-svg-icons [icon]="'delete'" [width]="'20'" [height]="'20'">
                </app-svg-icons>
            </div>
            <div class="dvUserName">
                <span class="spnUserName">{{u.Name}}</span>
            </div>
            <div>
                <select id="list{{i}}" class="ddlAccess" (change)="changeAccessofUserGroup($event,i)" [attr.selected]="u.Access">
                    <!-- <option *ngIf="(u.Type === 'USER' || u.Type === 'User') && !isPortfolioShared" [ngValue]='u.Access'
      [attr.selected]="u.Access === 'EDIT' ? true : null">EDIT</option> -->
                    <option [ngValue]='u.Access' [attr.selected]="u.Access === 'VIEW' ? true : null">VIEW</option>
                </select>
            </div>
        </div>
        <!-- <div style="text-align:center;">
  <span style="margin-left: 10px;font-size: 12px;font-weight: 500">Owner:</span>
  <span style="margin-left: 10px;font-size: 12px;font-weight: 500;color: #02559fc2;">Daniel Hernandez</span>
</div>
<div style="text-align:center;">
  <button class="button" (click)="hidesaveSharePopup()">Cancel</button>
  <button class="button">Share</button>
</div> -->
        <div class="txtAlignCenter">
            <span class="spnOwner">Owner:</span>
            <span class="spnCurrOwner">{{currentowner}}</span>
        </div>
        <div class="popupBtns">
            <button class="button" (click)="hidesaveSharePopup()">Cancel</button>
            <button class="button" (click)="sharePortfolio()">Share</button>
        </div>
    </div>

</div>
<!--Added by Varsha G || FIN1EURINT-277 || 04-May-2023-->
<div id="updateMessage" *ngIf="updateMessagePopupFlag">
    <div class="updateMessagePopup">
        <div class="renameVariant">
            <span>You are about to rename the existing variant name. Do you still want to Continue?</span>
        </div>
        <div class="popupBtns">
            <button class="button" (click)="updateMessagePopupFlag = false">Cancel</button>
            <button class="button" (click)="updatePortfolio();updateMessagePopupFlag = false">Continue</button>
        </div>
    </div>
</div>
<div class="overlay" *ngIf="showOrderDetailsFlag || PrevQuoteShowOrderPopUp">
    <div class="order-capture-modal">
        <div class="modalheader modal-header">
            <label>You are placing an order for Yield Enhancement</label>
            <div (click)="hideOrderDetails()" class="modal-close"></div>
        </div>
        <div class="input-grid">
            <label>Issuer</label>
            <input disabled type="text" type="text" class="txtalignLeft" [(ngModel)]="Issuer" value="{{ Issuer }}" />

            <label>Underlying</label>
            <input disabled type="text" class="longText txtalignLeft" Id="txtShare" [(ngModel)]="txtShare" />

            <label>Booking Branch</label>
            <select [(ngModel)]="selectedBookingBranch">
                <!-- <option value="FinIQ Europe">FinIQ Europe</option>
    <option value="FinIQ Asia">FinIQ Asia</option> -->
                <option *ngFor="let b of BookingCenter" value="{{b.BookingCenterCode}}">
                    {{b.BookingCenterName}}
                </option>

                <!-- <option value="London">London</option>
                <option value="Madrid">Madrid</option> -->
            </select>

            <label>Order Notional ({{txtddlNoteCcy}})</label>
            <!-- <input type="text" id="txtnotional" [(ngModel)]="txtnotional" type="text"/> -->
            <input type="text" id="txtnotional" [(ngModel)]="txtnotional" type="text" (focus)="commonfunctions.UnformatNumber($event);" (keypress)="commonfunctions.NotionalValidateKeys($event)" (keyup)="commonfunctions.chkNotionalFormat_keyUp($event) === false ? txtnotional = '': txtnotional=txtnotional"
                (change)="checkValidBookOrderNotional($event, 'txtnotional');" /> <!-- Func call setnotional removed and added in checkValidBookOrderNotional by Jyoti S || 14-Apr-2023 -->
            <!-- Modified keyup event to handle invalid notional || Added by Priya L || 01Apr2022 || assigned by Pranav D. -->
            <label>Reoffer (%)</label>
            <input disabled type="text" id="txtIBPrice" [(ngModel)]="txtIBPrice" type="text" />

            <label>Client Price (%)</label>
            <input disabled type="text" id="txtClientPrice" [(ngModel)]="txtClientPrice" type="text" />

            <label>Strike (%)</label>
            <input disabled type="text" id="txtStrike" [(ngModel)]="txtStrike" type="text" />

            <label>Tenor</label>
            <input disabled type="text" id="txtTenor" [(ngModel)]="txtTenor" type="text" />

            <label>Upfront (%)</label>
            <input disabled type="text" id="txtUpfront" [(ngModel)]="txtUpfront" type="text" />

            <!-- <label>Client Yield (%)p.a.</label>
  <input disabled type="text" id="txtClietYield"  [(ngModel)]="txtClietYield" type="text"/> -->

            <label>Order Type</label>
            <select [(ngModel)]="txtOrderType" (change)="changeOrderType()">
                <option value="Limit">Limit</option>
                <option value="Market">Market</option>
                <!-- Change sby Apurva K|| 30-MAY-2023|| Asked by Nitish K -->
                <option value="MOC">MOC</option>
                <option value="VWAP">VWAP</option>
            </select>

            <label>Limit Level</label>
            <!-- <input type="text" id="txtlimitLevel"  [(ngModel)]="txtlimitLevel" type="text" style="grid-column: 2 / span 3;" [disabled]= "txtOrderType !== 'Limit'"/> -->
            <input type="text" id="txtlimitLevel" [(ngModel)]="txtlimitLevel" type="text" [disabled]="txtOrderType !== 'Limit'" (focus)="commonfunctions.UnformatNumber($event);" (keypress)="commonfunctions.NotionalValidateKeys($event)" (keyup)="commonfunctions.chkNotionalFormat_keyUp($event) === false ? txtlimitLevel = '': txtlimitLevel=txtlimitLevel"
                (change)="checkValidBookOrderNotional($event, 'txtlimitLevel')" />
            <!-- Modified keyup event to handle invalid notional || Added by Priya L || 01Apr2022 || assigned by Pranav D. -->
            <!-- (focus)="commonfunctions.UnformatNumber($event); previousNotionals($event);"
  (change)="addNotional($event,rowIndex);"
  (keypress)="commonfunctions.NotionalValidateKeys($event)" 
  (keyup)="commonfunctions.chkNotionalFormat_keyUp($event)" -->


            <label>Underlying For Limit</label>
            <select id="underlyingForLimit" type="text" [(ngModel)]="underlyingForLimit" [disabled]="txtOrderType !== 'Limit'">
                <option *ngFor="let share of ShareBasket" value="{{share.Code}}">{{share.Code}}</option>
            </select>
            <!-- <form class="example-form">
    <mat-form-field class="example-full-width">
      <mat-label>Number</mat-label>
      <input type="text"
             placeholder="Pick one"
             aria-label="Number"
             matInput
             [formControl]="myControl"
             [matAutocomplete]="auto">
      <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
        <mat-option *ngFor="let option of filteredOptions | async" [value]="option">
          {{option}}
        </mat-option>
      </mat-autocomplete>
    </mat-form-field>
  </form> -->

            <label *ngIf="(this.sortedAllPrices.length > 0 && this.sortedAllPrices[0].lp !== this.Issuer)  || 
                (this.dataItemAccordian && this.dataItemAccordian.EP_BestPrice_YN === 'N')">
                Non Best Price Reason</label>

            <select class="longText ddlReason" id="nonBestPriceRsnDD" [(ngModel)]="nonBestPriceRsnDD" type="text" *ngIf="(this.sortedAllPrices.length > 0 && 
this.sortedAllPrices[0].lp !== this.Issuer) || 
(this.dataItemAccordian && this.dataItemAccordian.EP_BestPrice_YN === 'N')">
                <option *ngFor="let n of NonBestPriceReasonArr" value="{{n.Key}}">
                    {{n.Value}}</option>
            </select>
            <label *ngIf="nonBestPriceRsnDD === 'Other' || nonBestPriceRsnDD === 'Others'"></label>
            <input type="text" [(ngModel)]="txtOthersRsn" *ngIf="nonBestPriceRsnDD === 'Other' || nonBestPriceRsnDD === 'Others'" class="ipReason"/>


            <label>Comment</label>
            <input type="text" class="longText ipComment" id="txtComment" [(ngModel)]="txtComment" />
        </div>
        <div>
            <table class="modal-table">
                <tr>
                    <th>
                        <input id="checkboxAll" type="checkbox" checked (click)="chkAll($event);" class="tblModelCheckBox">
                    </th>
                    <th *ngIf="(this.EQ_Login_Client_Mapping === 'Yes' || this.EQ_Login_Client_Mapping === 'YES')"></th>
                    <th *ngIf="(this.EQ_Show_Order_RM === 'Yes' || this.EQ_Show_Order_RM === 'YES')">RM Name</th>
                    <th *ngIf="(this.EQ_Show_Order_Customer === 'Yes' || this.EQ_Show_Order_Customer === 'YES')">
                        Customer Name</th>

                    <th>Notional</th>
                </tr>
                <!-- <tr> -->
                <tr *ngFor="let data of tblAllocation; let rowIndex = index">

                    <td>
                        <input id="checkbox{{rowIndex}}" type="checkbox" checked (click)="chkAllocation($event,rowIndex);" class="tblAllocationCheckBox">
                    </td>
                    <td *ngIf="EQ_Login_Client_Mapping === 'Yes' || EQ_Login_Client_Mapping === 'YES'">
                        <span>Place order for </span>
                        <select id="Select{{rowIndex}}" [(ngModel)]="allocatedClientArray[rowIndex]">
                            <option *ngFor="let bookData of allBooksData" value="{{bookData.BookCode}}">
                                {{bookData.BookName}}</option>
                        </select>

                    </td>
                    <td *ngIf="EQ_Show_Order_RM === 'Yes' || EQ_Show_Order_RM === 'YES'">

                        <select id="Select{{rowIndex}}" [(ngModel)]="allocatedRMArray[rowIndex]" class="ddltblAllocation">
                            <option *ngFor="let RMItem of RMList" value="{{RMItem.Rel_Manager_Name}}">
                                {{RMItem.Rel_Manager_Name}}</option>
                        </select>

                    </td>
                    <td *ngIf="EQ_Show_Order_Customer === 'Yes' || EQ_Show_Order_Customer === 'YES'">
                        <select id="Select{{rowIndex}}" [(ngModel)]="allocatedCustomerArray[rowIndex]" class="ddltblAllocation">
                            <option *ngFor="let c of customerList" value="{{c.CustomerID}}">
                                {{c.CustomerName}}</option>
                        </select>
                    </td>
                    <td>
                        <!-- <input type="text" id="txtnotional" type="text" addNotional($event,rowIndex);/> -->
                        <input type="text" id="Notional{{rowIndex}}" maxlength="14" (focus)="commonfunctions.UnformatNumber($event);" (blur)="allocatedNotionalArr[rowIndex]=$event.target.value;checkNotional($event);setFormattedNotional($event,rowIndex);" (keypress)="commonfunctions.NotionalValidateKeys($event)"
                            (keyup)="commonfunctions.chkNotionalFormat_keyUp($event) === false ? allocatedNotionalArr[rowIndex] = '': allocatedNotionalArr[rowIndex]=allocatedNotionalArr[rowIndex]" placeholder="Enter Notional" value="0.00" [(ngModel)]="allocatedNotionalArr[rowIndex]"
                            class="ddltblAllocation" />
                        <!-- Modified keyup event to handle invalid notional || Added by Priya L || 01Apr2022 || assigned by Pranav D. -->

                        <!-- (blur)="checkValidAllocateNotional($event, rowIndex);" -->

                        <!-- (blur)="this.reset();checkValidNotional($event);"
          (keypress)="commonfunctions.NotionalValidateKeys($event)"
          (keyup)="commonfunctions.chkNotionalFormat_keyUp($event)" -->
                        <!-- [disabled]="orderflag" /> -->

                        <!-- (focus)="commonfunctions.UnformatNumber($event)"
        (blur)="this.reset();checkValidNotional($event);checkNotional($event);"
        (keypress)="commonfunctions.NotionalValidateKeys($event)"
        (keyup)="commonfunctions.chkNotionalFormat_keyUp($event)" -->

                    </td>
                </tr>
            </table>
        </div>
        <div class="button-row-right">
            <button class="button" (click)="btnAllocationClick();" [disabled]="tblAllocation.length >= 5">Add
                Allocation</button>
        </div>
        <div class="input-grid dvTotalNotional">
            <label>Total Notional</label>
            <label>{{formattedAmount(totalNotional)}}</label>
            <label>Min Limit:</label>
            <label>
                <!-- 250,000.00 : -->
                {{formattedAmount(minNotional)}}
            </label>
            <label>Allocated Notional</label>
            <label>{{formattedAmount(allocatedNotional)}}</label>
            <label>Max Limit:</label>
            <label>
                <!-- 500,000.00:  -->
                {{formattedAmount(maxNotional)}}
            </label>
            <label>Remaining Notional</label>
            <label>{{formattedAmount(this.remainingNotional)}}</label>
        </div>
        <div class="button-row">
            <button class="button" id="bookOrderConfirm" (click)="confirmOrder();postBackMethod();" [disabled]="orderBookedFlag || orderLoadFlag">
                <div class="confirm-with-loader">
                    {{ "Confirm" | translate }}
                    <div class="txtAlignCenter" *ngIf="orderLoadFlag">
                        <div class="order-loader loaderbox">
                            <div class="col-12">
                                <img src="{{asseturl}}Ajaxloader.gif" alt="" width="100px" class="imgConfirmLoader">
                            </div>
                        </div>
                    </div>
                </div>
            </button>
            <button (click)="hideOrderDetails();postBackMethod();" class="button">{{ "Close" | translate }}</button>
        </div>
        <div class="dvErrMsg">
            <!-- <span style="color: #008000 !important; font-size: 16px" class="msgSpan"> {{successMsgBookOrder}} </span> -->
            <span class="msgSpan erMsgBookOrder">
                {{errorMsgBookOrder}} </span>
        </div>
    </div>
</div>

<div class="success-overlay" *ngIf="successMessage">
    <div class="success-grid">
        <div class="close-success-modal">
            <div (click)="toggleSuccessMessage()" class="modal-close success-close"></div>
        </div>
        <div class="success-div">
            <div class="success-icon" *ngIf="!warningMessage && !showBlockReason"></div>
            <!-- <div class="warning-icon" *ngIf="warningMessage"> -->
                <div *ngIf="warningMessage || showBlockReason">
                <app-svg-icons [icon]="'warning-icon'" [width]="'15'" [height]="'15'">
                </app-svg-icons><!-- Added by Jyoti S || 26-Apr-2023 || FIN1EURINT-216 -->
            </div>
        </div>
        <div class="success-div">
            <label class="success-message-bold lblSuccessMsg">{{successMsgBookOrder}}</label>
        </div>
        <!-- <div class="success-div">
      <label class="success-message-light">{{successMsgProdLaunch}}</label>
    </div> -->
        <div class="success-div">
            <ng-template [ngIf]="!showBlockReason">
                <button (click)="toggleSuccessMessage()" class="button success-button" *ngIf="!quoteEmailFlg && !warningMessage">Continue</button>
                <button (click)="toggleSuccessMessage()" class="button warning-button" *ngIf="!quoteEmailFlg && warningMessage">Continue</button>
            </ng-template>
            <button (click)="toggleSuccessMessage()" class="button success-button" *ngIf="quoteEmailFlg || showBlockReason">Ok</button>
        </div>
    </div>
</div>

<app-previous-quotes-new [RFQ_ID]="selectRecord['RFQ_ID']" [Template_Code]="selectRecord['Template_Code']" [redirectFrom]="selectRecord['RedirectedFrom']" [Mode]="selectRecord['Mode']" [prevQuoteLaunchPopUp]="prevQuoteLaunchPopUp" [srcComponent]="'Pricer'"
    *ngIf="prevQuoteLaunchPopUp">
</app-previous-quotes-new>
<!-- RFQ_ID:p.rfq,Template_Code:'AutocallablePhoenix',RedirectedFrom:'Pricers',Mode:'Launch Product'} -->
<!-- <div class="overlaybondBlox" *ngIf="minNotionalConfirm">
    <div class="popupbondBlox">
        <div class="box-content">
            <label class="popup-text">
                Order size is less than minimum pool size.
                <br />Do you want to proceed?
            </label>
            <div class="popup-buttons">
                <button class="button"
                    style="height: 35px !important; font-family: 'Open Sans',sans-serif!important; font-size: 12px !important;"
                    (click)="hideViewPopup()">Cancel</button>
                <button class="button"
                    style="height: 35px !important; font-family: 'Open Sans',sans-serif!important; font-size: 12px !important;"
                    (click)="minNotionalConfirm = false">Continue</button>
            </div>
        </div>

    </div>
</div> -->
<!-- confirm pop up changes by Suvarna P || 26Mar2022 || assigned by Pranav D || start -->
<div class="success-overlay" *ngIf="minNotionalConfirm">
    <div class="success-grid dvMinNotional">
        <div class="close-success-modal">
            <div (click)="hideViewPopup()" class="modal-close success-close"></div>
        </div>
        <div class="success-div">
            <!-- <div class="success-icon"></div> -->
            <!-- <div class="warning-icon"></div> -->
                <div>
                    <app-svg-icons [icon]="'warning-icon'" [width]="'15'" [height]="'15'">
                    </app-svg-icons><!-- Added by Jyoti S || 26-Apr-2023 || FIN1EURINT-216 -->
                </div>
        </div>
        <div class="success-div">
            <!-- <label class="success-message-bold">{{successMsgButtonAction}}</label> -->
            <label class="success-message-bold"> Order size is less than minimum pool size.
                <br />Do you want to proceed?</label>
        </div>
        <div class="success-div">
            <button (click)="hideViewPopup()" class="button warning-button btnMinNotional">Cancel</button>
            <button (click)="minNotionalConfirm = false" class="button success-button btnMinNotional">Continue</button>

        </div>
    </div>
</div>
<app-docs-modal *ngIf="showDocsPopup"
    [tableData]="docsData"
    [labelsData]="docsPopupLabels"
    (closeModalEvent)="closeDocsModal(val)"></app-docs-modal>
<router-outlet> </router-outlet>
<!-- confirm pop up changes by Suvarna P || 26Mar2022 || assigned by Pranav D || start -->
